(()=>{var e={};e.id=884,e.ids=[884],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},74634:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>c}),r(10474),r(35866),r(762);var a=r(23191),t=r(88716),l=r(37922),i=r.n(l),n=r(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(s,d);let c=["",{children:["(user)",{children:["(userprofile)",{children:["u",{children:["swipe",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,10474)),"C:\\Users\\albin\\OneDrive\\Desktop\\albints158\\client-app\\app\\(user)\\(userprofile)\\u\\swipe\\page.jsx"]}]},{}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,762)),"C:\\Users\\albin\\OneDrive\\Desktop\\albints158\\client-app\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["C:\\Users\\albin\\OneDrive\\Desktop\\albints158\\client-app\\app\\(user)\\(userprofile)\\u\\swipe\\page.jsx"],u="/(user)/(userprofile)/u/swipe/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/(user)/(userprofile)/u/swipe/page",pathname:"/u/swipe",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8137:(e,s,r)=>{Promise.resolve().then(r.bind(r,51508))},51508:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>T});var a=r(10326),t=r(3933),l=r(17577),i=r(6917),n=r(96070),d=r(20239),c=r(77109),o=r(18729),u=r(31417),m=r(63096),x=r(54173),f=r.n(x),h=r(18623),p=r(53982),j=r(46084);let g=l.forwardRef(({className:e,...s},r)=>a.jsx(h.fC,{className:(0,j.cn)("grid gap-2",e),...s,ref:r}));g.displayName=h.fC.displayName;let v=l.forwardRef(({className:e,...s},r)=>a.jsx(h.ck,{ref:r,className:(0,j.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:a.jsx(h.z$,{className:"flex items-center justify-center",children:a.jsx(p.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));v.displayName=h.ck.displayName;var b=r(46226);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,r(62881).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var y=r(50560);function w({className:e,...s}){return a.jsx("div",{className:(0,j.cn)("animate-pulse rounded-md bg-muted",e),...s})}function k(){let{edgestore:e}=(0,n.P)(),{data:s,status:r}=(0,c.useSession)(),[t,i]=(0,l.useState)(!1),u=(0,l.useRef)(null),[x,h]=(0,l.useState)(!0),[p,j]=(0,l.useState)(!1),[g,v]=(0,l.useState)([]),[k,C]=(0,l.useState)([]),[S,P]=(0,l.useState)([]);async function R(e){h(e),i(!e)}function q(){j(!1),v([]),C([])}async function M(e){e&&await d.Z.post("/api/user/dating-tab2",{url:S,userId:s?.id})&&(v([]),C([]),j(!1))}async function _(){if(console.log(g),g.length>0){let s=await Promise.all(g.map(async s=>(await e.publicFiles.upload({file:s,onProgressChange:e=>{console.log(e)}})).url));j(!1),P(s)}}return(0,l.useCallback)(async()=>{if(s?.id)try{let e=await d.Z.post("/api/user/dating-tab3",{userId:s.id});e&&C(e.data.images)}catch(e){console.error("Error fetching profile images:",e)}},[s?.id]),(0,a.jsxs)("di",{className:"",children:[a.jsx(f(),{isOpen:p,onRequestClose:q,className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",overlayClassName:"fixed inset-0 bg-gray-800 bg-opacity-50",contentLabel:"Upload Images Modal",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md relative",children:[a.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",onClick:q,children:"\xd7"}),a.jsx("input",{ref:u,type:"file",id:"fileInput",accept:"image/*",className:"hidden",onChange:function(e){let s=Array.from(e.target.files),r=s.map(e=>URL.createObjectURL(e));v(s),C(r)},multiple:!0}),a.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Upload Images"}),a.jsx("div",{onClick:function(){u.current&&u.current.click()},className:"flex items-center justify-center cursor-pointer m-2",children:a.jsx(N,{className:"h-6 w-6 text-muted-foreground"})}),a.jsx("div",{className:"flex items-center justify-center",children:"Click here to upload an image"}),a.jsx(o.z,{onClick:_,variant:"",children:"Add Image"})]})}),a.jsx("div",{className:"p-2 flex justify-center items-center ",children:(0,a.jsxs)(y.Zb,{className:"overflow-hidden sm:w-full lg:w-1/2 ",children:[a.jsx("div",{className:"border-b p-2 w-full h-full ",children:a.jsx(m.r,{onClick:()=>M(!x),checked:x,onCheckedChange:()=>R(!x)})}),a.jsx(y.Ol,{children:(0,a.jsxs)("div",{className:"flex justify-between ",children:[(0,a.jsxs)("div",{children:[a.jsx(y.ll,{children:"Profile Images"}),a.jsx(y.SZ,{children:"Upload your profile images."})]}),a.jsx("div",{className:`flex cursor-pointer hover:text-gray-600 text-gray-400 items-center justify-center ${t?"block":"hidden"}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:a.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})})]})}),a.jsx(y.aY,{children:(0,a.jsxs)("div",{className:"grid gap-2",children:[k?a.jsx(b.default,{alt:"Profile image",className:"aspect-square rounded-md object-cover",height:"300",src:k[0],width:"300",loading:"lazy"}):a.jsx(w,{className:"h-[300px] w-[300px] rounded-xl"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[k&&k.length>1?k.slice(1,4).map((e,s)=>a.jsx(b.default,{alt:`Profile thumbnail ${s+1}`,className:"aspect-square rounded-md object-cover",height:"84",src:e,width:"84",loading:"lazy"},s)):(0,a.jsxs)(a.Fragment,{children:[a.jsx(w,{className:"h-[84px] w-[84px] rounded-xl"}),a.jsx(w,{className:"h-[84px] w-[84px] rounded-xl"})]}),(0,a.jsxs)("button",{disabled:!t,onClick:function(){v(null),C(null),j(!0)},className:"flex aspect-square w-full items-center justify-center rounded-md border border-dashed",children:[a.jsx(N,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"sr-only",children:"Add Image"})]})]})]})})]})})]})}var C=r(87131);let S=l.forwardRef(({className:e,...s},r)=>(0,a.jsxs)(C.fC,{ref:r,className:(0,j.cn)("relative flex w-full touch-none select-none items-center",e),...s,children:[a.jsx(C.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(C.e6,{className:"absolute h-full bg-primary"})}),a.jsx(C.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));function P(){let{data:e}=(0,c.useSession)(),[s,r]=(0,l.useState)(!0),[t,i]=(0,l.useState)(!0),[n,o]=(0,l.useState)(20),[x,f]=(0,l.useState)(!0),[h,p]=(0,l.useState)("male"),[j,b]=(0,l.useState)(!0),[N,y]=(0,l.useState)(null);async function w(s){if(r(s),i(e=>!e),s)try{let s={profileVisibility:x,maximumAge:n,genderPreference:h,userId:e?.id},r=await d.Z.post("/api/user/dating-tab4",s);console.log("Settings saved:",r.data)}catch(e){console.error("Error saving settings:",e),y("Failed to save settings.")}}return j?a.jsx("div",{children:"Loading..."}):N?a.jsx("div",{children:N}):(0,a.jsxs)("div",{className:"w-[400px] h-screen border rounded-md flex flex-col",children:[a.jsx("div",{className:"p-2",children:a.jsx(m.r,{onClick:()=>w(!s),checked:s})}),a.jsx("div",{className:"border-b"}),a.jsx("div",{className:"border-b"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"p-4",children:["Maximum Age: ",n]}),a.jsx("div",{className:"ml-2 mr-2",children:a.jsx(S,{disabled:t,onValueChange:e=>{o(e[0])},defaultValue:[n],min:18,max:40,step:1})})]}),a.jsx("div",{className:"border-b"}),(0,a.jsxs)("div",{className:"flex flex-col mt-4 gap-2",children:[a.jsx("div",{className:"ml-2",children:"Gender Preference"}),a.jsx("div",{className:"text-4xl ml-4",children:(0,a.jsxs)(g,{disabled:t,value:h,onValueChange:e=>{p(e)},children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(v,{value:"male",id:"male"}),a.jsx(u._,{htmlFor:"male",children:"Male"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(v,{value:"female",id:"female"}),a.jsx(u._,{htmlFor:"female",children:"Female"})]})]})})]}),a.jsx("div",{className:"border-b mt-4"}),(0,a.jsxs)("div",{className:"flex justify-between p-4",children:[a.jsx("div",{children:"Profile Visibility"}),a.jsx("div",{children:a.jsx(m.r,{disabled:t,checked:x,onClick:()=>f(e=>!e)})})]}),a.jsx("div",{className:"border-b mt-4"})]})}function R(){let{edgestore:e}=(0,n.P)(),{data:s}=(0,c.useSession)(),[r,t]=(0,l.useState)(!1),[x,h]=(0,l.useState)(!1),[p,j]=(0,l.useState)([]),[b,N]=(0,l.useState)([]),[y,w]=(0,l.useState)({}),[C,S]=(0,l.useState)(!0),[R,q]=(0,l.useState)(""),[M,_]=(0,l.useState)({name:"",age:"",bio:"",gender:""}),U=(0,l.useRef)(null),Z=e=>{let{name:s,value:r}=e.target;_(e=>({...e,[s]:r}))},E=async()=>{if(p.length>0){let r=await Promise.all(p.map(async s=>(await e.publicFiles.upload({file:s,onProgressChange:e=>{console.log(e)}})).url));await d.Z.post("/api/user/upload-dating-images",{formData:M,url:r,userId:s?.id})&&(j([]),N([]),h(!1))}},I=()=>{h(!1)},L=async e=>{t(e=>!e),S(e=>!e),e&&(console.log("profile updated",M),await d.Z.post("/api/user/dating-tab1",{formData:M,userId:s?.id})&&console.log("success"))};return(0,a.jsxs)("div",{className:"sm:ml-8 lg:ml-0 h-screen overflow-hidden",children:[a.jsx(f(),{isOpen:x,onRequestClose:I,className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",overlayClassName:"fixed inset-0 bg-gray-800 bg-opacity-50",contentLabel:"Upload Images Modal",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md relative",children:[a.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",onClick:I,children:"\xd7"}),a.jsx("input",{ref:U,type:"file",id:"fileInput",accept:"image/*",className:"hidden",onChange:e=>{let s=Array.from(e.target.files);j(e=>[...e,...s]);let r=s.map(e=>URL.createObjectURL(e));N(e=>[...e,...r])},multiple:!0}),a.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Upload Images"}),a.jsx("div",{onClick:()=>{U.current&&U.current.click()},className:"flex items-center justify-center cursor-pointer m-2",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})]})}),a.jsx("div",{className:"flex items-center justify-center",children:"Click here to upload an image"}),a.jsx(o.z,{onClick:E,variant:"",children:"Upload"})]})}),a.jsx("div",{className:"flex justify-center items-center ",children:(0,a.jsxs)(i.mQ,{defaultValue:"profile-details",className:"w-[600px]",children:[(0,a.jsxs)(i.dr,{className:"grid w-full grid-cols-3",children:[a.jsx(i.SP,{value:"profile-details",children:"Profile Details"}),a.jsx(i.SP,{value:"profile-image",children:"Profile Images"}),a.jsx(i.SP,{value:"Filter",children:"Settings"})]}),a.jsx(i.nU,{value:"profile-details",children:a.jsx("div",{className:"flex  items-center justify-center p-4  w-full ",children:a.jsx("div",{children:a.jsx("form",{className:"",children:a.jsx("div",{className:"border rounded",children:(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("div",{className:"p-2",children:a.jsx(m.r,{checked:C,onCheckedChange:()=>L(!C)})}),a.jsx("div",{className:"border-b"}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("label",{className:"block mb-2 text-gray-700",children:["Name:",a.jsx("input",{onChange:Z,value:M.name,type:"text",name:"name",placeholder:"Enter your name",disabled:!r,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),a.jsx("div",{className:"mb-4",children:(0,a.jsxs)("label",{className:"block mb-2 text-gray-700",children:["Age:",a.jsx("input",{onChange:Z,value:M.age,type:"number",name:"age",placeholder:"Enter your age",disabled:!r,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]})}),a.jsx("div",{className:"mb-4",children:(0,a.jsxs)("label",{className:"block mb-2 text-gray-700",children:["Bio:",a.jsx("textarea",{onChange:Z,name:"bio",value:M.bio,placeholder:"Write a short bio",disabled:!r,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]})}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx(u._,{children:"Gender:"}),(0,a.jsxs)(g,{value:M.gender,onValueChange:e=>{_(s=>({...s,gender:e})),console.log(e)},className:"flex flex-col mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(v,{value:"male",id:"male",className:"mr-2"}),a.jsx(u._,{htmlFor:"male",className:"cursor-pointer",children:"Male"})]}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[a.jsx(v,{value:"female",id:"female",className:"mr-2"}),a.jsx(u._,{htmlFor:"female",className:"cursor-pointer",children:"Female"})]})]})]})]})]})})})})})}),a.jsx(i.nU,{value:"profile-image",children:a.jsx(k,{openModal:()=>h(!0),fileUrls:b})}),a.jsx(i.nU,{value:"Filter",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(P,{})})})]})})]})}S.displayName=C.fC.displayName;var q=r(45492),M=r(26655),_=r(90434);function U(){let{data:e}=(0,c.useSession)(),[s,r]=(0,l.useState)([]);return(0,l.useCallback)(async()=>{if(e?.id)try{let s=await d.Z.post("/api/user/fetch-matches",{userId:e.id});s&&(console.log(s),r(s.data.matches))}catch(e){console.error("Error fetching matches:",e)}},[e?.id]),a.jsx("div",{children:(0,a.jsxs)(q.iA,{children:[a.jsx(q.Rn,{children:"Your Recent Matches Appear Here."}),a.jsx(q.xD,{children:a.jsx(q.SC,{children:a.jsx(q.ss,{className:"text-center",children:"Matches"})})}),a.jsx(q.RM,{children:s&&s.map((e,s)=>a.jsx(q.SC,{children:a.jsx(q.pj,{className:"font-medium text-center",children:(0,a.jsxs)("div",{className:"flex justify-around ",children:[(0,a.jsxs)(M.qE,{children:[a.jsx(M.F$,{src:e.userId.profilePicture}),a.jsx(M.Q5,{children:"CN"})]}),a.jsx("div",{className:"flex items-center justify-center",children:(0,a.jsxs)("p",{children:["You Matched With @",e.userId.username]})}),a.jsx("div",{className:"",children:a.jsx(_.default,{href:`/u/${e.userId.username}`,children:a.jsx(o.z,{variant:"outline",children:"Visit Profile"})})})]})})},s))})]})})}var Z=r(74034);function E(e){return(0,Z.w_)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M752.145 0c8.685 0 17.572 3.434 24.237 10.099 13.33 13.33 13.33 35.143 0 48.473L320.126 515.03l449.591 449.591c13.33 13.33 13.33 35.144 0 48.474-13.33 13.33-35.142 13.33-48.472 0L247.418 539.268c-13.33-13.33-13.33-35.144 0-48.474L727.91 10.1C734.575 3.435 743.46.002 752.146.002z"},child:[]}]})(e)}function I(e){return(0,Z.w_)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M271.653 1023.192c-8.685 0-17.573-3.432-24.238-10.097-13.33-13.33-13.33-35.144 0-48.474L703.67 508.163 254.08 58.573c-13.33-13.331-13.33-35.145 0-48.475 13.33-13.33 35.143-13.33 48.473 0L776.38 483.925c13.33 13.33 13.33 35.143 0 48.473l-480.492 480.694c-6.665 6.665-15.551 10.099-24.236 10.099z"},child:[]}]})(e)}var L=r(32316);let $=(0,l.createContext)(void 0),D=({children:e,className:s,containerClassName:r})=>{let t=(0,l.useRef)(null),[i,n]=(0,l.useState)(!1);return a.jsx($.Provider,{value:[i,n],children:a.jsx("div",{className:(0,j.cn)("py-20 flex items-center justify-center",r),style:{perspective:"1000px"},children:a.jsx("div",{ref:t,onMouseEnter:e=>{if(n(!0),!t.current)return},onMouseMove:e=>{if(!t.current)return;let{left:s,top:r,width:a,height:l}=t.current.getBoundingClientRect(),i=(e.clientX-s-a/2)/25,n=(e.clientY-r-l/2)/25;t.current.style.transform=`rotateY(${i}deg) rotateX(${n}deg)`},onMouseLeave:e=>{t.current&&(n(!1),t.current.style.transform="rotateY(0deg) rotateX(0deg)")},className:(0,j.cn)("flex items-center justify-center relative transition-all duration-200 ease-linear",s),style:{transformStyle:"preserve-3d"},children:e})})})},z=({children:e,className:s})=>a.jsx("div",{className:(0,j.cn)("h-96 w-96 [transform-style:preserve-3d]  [&>*]:[transform-style:preserve-3d]",s),children:e}),A=({as:e="div",children:s,className:r,translateX:t=0,translateY:i=0,translateZ:n=0,rotateX:d=0,rotateY:c=0,rotateZ:o=0,...u})=>{let m=(0,l.useRef)(null),[x]=F(),f=(0,l.useCallback)(()=>{m.current&&(x?m.current.style.transform=`translateX(${t}px) translateY(${i}px) translateZ(${n}px) rotateX(${d}deg) rotateY(${c}deg) rotateZ(${o}deg)`:m.current.style.transform="translateX(0px) translateY(0px) translateZ(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)")},[x,t,i,n,d,c,o]);return(0,l.useEffect)(()=>{f()},[f]),a.jsx(e,{ref:m,className:(0,j.cn)("w-fit transition duration-200 ease-linear",r),...u,children:s})},F=()=>{let e=(0,l.useContext)($);if(void 0===e)throw Error("useMouseEnter must be used within a MouseEnterProvider");return e};var Y=r(21291);function V(){return null}function O(){let{data:e}=(0,c.useSession)(),s=(0,Y.s)(),[r,t]=(0,l.useState)(!1),[i,n]=(0,l.useState)([]),[u,m]=(0,l.useState)(0),[x,f]=(0,l.useState)(null),[h,p]=(0,l.useState)(0),[j,g]=(0,l.useState)(33),[v,N]=(0,l.useState)(null);(0,l.useCallback)(async()=>{if(e?.id)try{let s=await d.Z.post("/api/user/swipe-profiles",{userId:e.id});s.data&&(n(s.data.profiles),m(0))}catch(e){console.error("Error fetching profiles:",e)}},[e]),(0,l.useCallback)(r=>{console.log(r),t(!0),s.emit("match_owner",{userId:e?.id}),s.on("profile-image",e=>{console.log(e),N(e)})},[e,s]);let y=()=>{console.log("Profile liked"),f("right"),setTimeout(()=>{f(null),u<i.length-1?m(u+1):console.log("No more profiles")},500)},k=()=>{console.log("Profile disliked"),f("left"),setTimeout(()=>{f(null),u<i.length-1?m(u+1):console.log("No more profiles")},500)},C=i[u]||{};return console.log(v),a.jsx("div",{className:"",children:r?a.jsx("div",{className:"flex items-center justify-center",children:(0,a.jsxs)("div",{className:"w-[700px] h-[600px] overflow-hidden mt-4 animate-fade-in relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mt-4 animate-fade-up flex-col",children:[a.jsx("h1",{className:"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl bg-gradient-to-r from-pink-500 via-red-500 to-pink-500 text-white rounded p-4 shadow-lg animate-heartbeat",children:"You found a match"}),(0,a.jsxs)("div",{className:"flex p-4 mt-8",children:[a.jsx("div",{className:"relative group",children:v&&a.jsx(b.default,{src:v,height:"300",width:"200",className:"w-full object-fit aspect-square rounded-xl border-red-700 border-4 pulse-effect",alt:"thumbnail"})}),a.jsx("div",{className:"relative group  ml-6",children:C?.images[h]&&a.jsx(b.default,{src:C?.images[h],height:"200",width:"200",className:"w-full object-cover aspect-square rounded-xl border-red-700 border-4 glow-effect",alt:"thumbnail"})})]}),(0,a.jsxs)("div",{className:"flex mt-4 gap-1",children:[a.jsx("div",{className:"",children:a.jsx(o.z,{className:"text-red-600 font-semibold hover:text-white hover:bg-red-600 ",variant:"outline",children:"Visit Profile"})}),a.jsx("div",{className:"",children:a.jsx(o.z,{onClick:()=>t(!1),variant:"outline",className:"text-red-600 font-semibold hover:text-white hover:bg-red-600",children:"Keep Swiping"})})]})]}),a.jsx("div",{id:"hearts-container",className:"absolute inset-0 pointer-events-none"}),a.jsx(V,{})]})}):a.jsx("div",{children:C?.images?(0,a.jsxs)("div",{children:[a.jsx(D,{className:"",children:a.jsx(z,{className:`bg-gray-50 relative group/card dark:hover:shadow-2xl dark:hover:shadow-emerald-500/[0.1] dark:bg-black dark:border-white/[0.2] border-black/[0.1] rounded-xl ${x?`swipe-${x}`:""}`,children:(0,a.jsxs)(A,{translateZ:"100",className:"w-full",children:[a.jsx(L.E,{value:j*(h+1),className:"mb-4"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex flex-col mt-2 ml-2 mb-2 z-10",children:[(0,a.jsxs)("h1",{className:"scroll-m-20 text-2xl font-extrabold text-gray-600 lg:text-2xl",children:[C.name||"No Name",","," ",a.jsx("span",{className:"text-gray-600",children:C.age||"Unknown"})]}),a.jsx("div",{className:"text-gray-600 font-semibold",children:C.bio||"No description"}),a.jsx("div",{})]}),a.jsx("div",{onClick:r=>{r.nativeEvent.offsetX<r.target.clientWidth/2?(k(),console.log("dislike")):(y(),console.log("like",i[u]),s.emit("swipe",{profile:i[u],userId:e?.id}),console.log(e?.id))},children:a.jsx(b.default,{src:C.images[h],height:"300",width:"300",className:"w-full object-cover rounded-xl group-hover/card:shadow-xl",alt:"thumbnail"})})]})]})})}),(0,a.jsxs)("div",{className:"flex justify-center items-center gap-10 mt-4 cursor-pointer",children:[a.jsx("div",{className:"flex justify-center items-center w-12 h-12 rounded-full transition-transform transform hover:scale-150",children:a.jsx(o.z,{onClick:()=>p(e=>Math.max(e-1,0)),children:a.jsx(E,{className:"text-2xl "})})}),a.jsx("div",{className:"flex justify-center items-center w-12 h-12 rounded-full transition-transform transform hover:scale-150",children:a.jsx(o.z,{onClick:()=>p(e=>Math.min(e+1,(C.images||[]).length-1)),children:a.jsx(I,{className:"text-2xl "})})})]})]}):a.jsx("div",{className:"   flex items-center justify-center",children:a.jsx("div",{children:a.jsx(w,{className:"w-[500px] h-[600px]  ",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("h2",{className:"scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight first:mt-0"})})})})})})})}function T(){return(0,a.jsxs)("main",{className:"grid grid-cols-1 md:grid-cols-3 md:max-w-6xl mx-auto ",children:[a.jsx("section",{className:"md:col-span-2  border h-screen mt-6 overflow-hidden ",children:a.jsx("div",{className:"flex flex-col",children:a.jsx("div",{children:a.jsx("div",{className:"mt-2",children:(0,a.jsxs)(i.mQ,{defaultValue:"Swipe",children:[a.jsx("div",{className:"flex ml-2 font-extrabold",children:a.jsx("div",{className:"flex ",children:(0,a.jsxs)(i.dr,{children:[a.jsx(i.SP,{value:"Swipe",children:"Swipe"}),a.jsx(i.SP,{value:"Matches",children:"Matches"}),a.jsx(i.SP,{value:"Profile",children:"Profile"})]})})}),a.jsx(i.nU,{value:"Swipe",children:a.jsx(O,{})}),a.jsx(i.nU,{value:"Matches",children:a.jsx(U,{})}),a.jsx(i.nU,{value:"Profile",children:a.jsx(R,{})})]})})})})}),a.jsx("section",{className:"hidden md:inline-grid  md:col-span-1",children:a.jsx("div",{className:"fixed w-[380px]",children:a.jsx(t.default,{})})})]})}},26655:(e,s,r)=>{"use strict";r.d(s,{F$:()=>d,Q5:()=>c,qE:()=>n});var a=r(10326),t=r(17577),l=r(4150),i=r(46084);let n=t.forwardRef(({className:e,...s},r)=>a.jsx(l.fC,{ref:r,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));n.displayName=l.fC.displayName;let d=t.forwardRef(({className:e,...s},r)=>a.jsx(l.Ee,{ref:r,className:(0,i.cn)("aspect-square h-full w-full",e),...s}));d.displayName=l.Ee.displayName;let c=t.forwardRef(({className:e,...s},r)=>a.jsx(l.NY,{ref:r,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));c.displayName=l.NY.displayName},50560:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>n,SZ:()=>c,Zb:()=>i,aY:()=>o,eW:()=>u,ll:()=>d});var a=r(10326),t=r(17577),l=r(46084);let i=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let n=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let d=t.forwardRef(({className:e,...s},r)=>a.jsx("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let c=t.forwardRef(({className:e,...s},r)=>a.jsx("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent";let u=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s}));u.displayName="CardFooter"},31417:(e,s,r)=>{"use strict";r.d(s,{_:()=>o});var a=r(10326),t=r(17577),l=r(45226),i=t.forwardRef((e,s)=>(0,a.jsx)(l.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var n=r(28671),d=r(46084);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef(({className:e,...s},r)=>a.jsx(i,{ref:r,className:(0,d.cn)(c(),e),...s}));o.displayName=i.displayName},32316:(e,s,r)=>{"use strict";r.d(s,{E:()=>n});var a=r(10326),t=r(17577),l=r(87273),i=r(46084);let n=t.forwardRef(({className:e,value:s,...r},t)=>a.jsx(l.fC,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(l.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));n.displayName=l.fC.displayName},63096:(e,s,r)=>{"use strict";r.d(s,{r:()=>n});var a=r(10326),t=r(17577),l=r(41959),i=r(46084);let n=t.forwardRef(({className:e,...s},r)=>a.jsx(l.fC,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:r,children:a.jsx(l.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));n.displayName=l.fC.displayName},45492:(e,s,r)=>{"use strict";r.d(s,{RM:()=>d,Rn:()=>m,SC:()=>c,iA:()=>i,pj:()=>u,ss:()=>o,xD:()=>n});var a=r(10326),t=r(17577),l=r(46084);let i=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:(0,l.cn)("w-full caption-bottom text-sm",e),...s})}));i.displayName="Table";let n=t.forwardRef(({className:e,...s},r)=>a.jsx("thead",{ref:r,className:(0,l.cn)("[&_tr]:border-b",e),...s}));n.displayName="TableHeader";let d=t.forwardRef(({className:e,...s},r)=>a.jsx("tbody",{ref:r,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...s}));d.displayName="TableBody",t.forwardRef(({className:e,...s},r)=>a.jsx("tfoot",{ref:r,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let c=t.forwardRef(({className:e,...s},r)=>a.jsx("tr",{ref:r,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));c.displayName="TableRow";let o=t.forwardRef(({className:e,...s},r)=>a.jsx("th",{ref:r,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));o.displayName="TableHead";let u=t.forwardRef(({className:e,...s},r)=>a.jsx("td",{ref:r,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));u.displayName="TableCell";let m=t.forwardRef(({className:e,...s},r)=>a.jsx("caption",{ref:r,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...s}));m.displayName="TableCaption"},53982:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62881).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},10474:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var a=r(68570);let t=(0,a.createProxy)(String.raw`C:\Users\albin\OneDrive\Desktop\albints158\client-app\app\(user)\(userprofile)\u\swipe\page.jsx`),{__esModule:l,$$typeof:i}=t;t.default;let n=(0,a.createProxy)(String.raw`C:\Users\albin\OneDrive\Desktop\albints158\client-app\app\(user)\(userprofile)\u\swipe\page.jsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[948,720,621,492,579,818,926,952],()=>r(74634));module.exports=a})();
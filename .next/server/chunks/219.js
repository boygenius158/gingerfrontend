"use strict";exports.id=219,exports.ids=[219],exports.modules={54003:(e,t,a)=>{a.d(t,{Z:()=>i});var s=a(10326),r=a(17577),n=a(70520),o=a(44099),d=a(77109),l=a(20239);let i=function(){let{data:e,status:t}=(0,d.useSession)(),a=(0,n.MD)(),i=(0,n.lq)(),[c,m]=(0,r.useState)(null),[x,p]=(0,r.useState)(!1),[u,f]=(0,r.useState)(!1);console.log(e);let h=async t=>{t.preventDefault(),p(!0);try{let{data:{clientSecret:t}}=await o.Z.post("http://localhost:5000/api/create-payment-intent",{amount:1e3,userId:e?.id});console.log("Client Secret:",t);let s=i.getElement(n.NZ),r=await a.confirmCardPayment(t,{payment_method:{card:s}});r.error?(m(r.error.message),p(!1)):(m(null),p(!1),f(!0),await l.Z.post("/api/user/premium-payment",{userId:e?.id}))}catch(e){m("An unexpected error occurred."),p(!1)}};return(0,s.jsxs)("form",{onSubmit:h,className:"max-w-md mx-auto p-6 bg-white shadow-lg rounded-lg",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Complete Your Payment"}),s.jsx("div",{className:"mb-4",children:s.jsx(n.NZ,{className:"p-3 border border-gray-300 rounded-md",options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})}),s.jsx("button",{type:"submit",disabled:!a||x||u,className:`w-full py-3 px-4 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors duration-300 ${x?"cursor-not-allowed":""}`,children:x?"Processing...":"Pay"}),c&&s.jsx("div",{className:"text-red-500 text-sm mt-2",children:c}),u&&s.jsx("div",{className:"text-green-500 text-sm mt-2",children:"Payment succeeded!"})]})}},67219:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(10326),r=a(17577),n=a(43327),o=a(39183),d=a(32933),l=a(53982),i=a(46084);n.v2,n.ZA,n.h_,n.Tr,n.Ee,r.forwardRef(({className:e,...t},a)=>s.jsx(n.fC,{ref:a,className:(0,i.cn)("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",e),...t})).displayName=n.fC.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(n.xz,{ref:a,className:(0,i.cn)("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e),...t})).displayName=n.xz.displayName,r.forwardRef(({className:e,inset:t,children:a,...r},d)=>(0,s.jsxs)(n.fF,{ref:d,className:(0,i.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...r,children:[a,s.jsx(o.Z,{className:"ml-auto h-4 w-4"})]})).displayName=n.fF.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(n.tu,{ref:a,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=n.tu.displayName,r.forwardRef(({className:e,align:t="start",alignOffset:a=-4,sideOffset:r=8,...o},d)=>s.jsx(n.h_,{children:s.jsx(n.VY,{ref:d,align:t,alignOffset:a,sideOffset:r,className:(0,i.cn)("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})})).displayName=n.VY.displayName,r.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(n.ck,{ref:r,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a})).displayName=n.ck.displayName,r.forwardRef(({className:e,children:t,checked:a,...r},o)=>(0,s.jsxs)(n.oC,{ref:o,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(n.wU,{children:s.jsx(d.Z,{className:"h-4 w-4"})})}),t]})).displayName=n.oC.displayName,r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(n.Rk,{ref:r,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(n.wU,{children:s.jsx(l.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=n.Rk.displayName,r.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(n.__,{ref:r,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a})).displayName=n.__.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(n.Z0,{ref:a,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.Z0.displayName;let c=(0,a(28671).j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function m({className:e,variant:t,...a}){return s.jsx("div",{className:(0,i.cn)(c({variant:t}),e),...a})}function x({setPage:e}){let t=()=>{e("payment")};return s.jsx("section",{className:"",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"space-y-8 lg:grid lg:grid-cols-3 sm:gap-6 xl:gap-8 lg:space-y-0 lg:items-center",children:(0,s.jsxs)("div",{className:"flex flex-col mx-auto max-w-sm text-gray-900 rounded-2xl bg-gray-50 p-6 xl:py-9 xl:px-12 transition-all duration-500 hover:bg-gray-100",children:[s.jsx("h3",{className:"font-manrope text-2xl font-bold mb-3",children:"Pro"}),(0,s.jsxs)("div",{className:"flex items-center mb-6",children:[s.jsx("span",{className:"font-manrope mr-2 text-6xl font-semibold",children:"$350"}),s.jsx("span",{className:"text-xl text-gray-500",children:"/ Onetime purchase"})]}),s.jsx("ul",{className:"mb-12 space-y-6 text-left text-lg text-gray-500",children:(0,s.jsxs)("li",{className:"flex items-center space-x-4",children:[s.jsx("svg",{className:"flex-shrink-0 w-6 h-6 text-indigo-600",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M10 14.7875L13.0959 17.8834C13.3399 18.1274 13.7353 18.1275 13.9794 17.8838L20.625 11.25M15 27.5C8.09644 27.5 2.5 21.9036 2.5 15C2.5 8.09644 8.09644 2.5 15 2.5C21.9036 2.5 27.5 8.09644 27.5 15C27.5 21.9036 21.9036 27.5 15 27.5Z",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsx("span",{children:"Unlock Ginger Swipe!"})]})}),s.jsx("span",{className:"py-2.5 px-5 bg-blue-400 shadow-sm rounded-full transition-all duration-500 text-base text-white font-semibold text-center w-fit mx-auto hover:bg-indigo-400 cursor-pointer",onClick:()=>t(),children:"Buy"})]})})})})}var p=a(54003),u=a(70520),f=a(89244);a(46226);let h=(0,f.J)("pk_test_51PirppRr9XEd7LoYO63o5eLQqYHIYD9V5K0yDPvpShgNikCcdTiUNPBGhaSldf37lr1GCD3ULS1LHJrs4BogN6ph00DleHSh9S");function g(){return s.jsx("div",{children:s.jsx(u.eK,{stripe:h,children:s.jsx(p.Z,{})})})}var y=a(20239),b=a(77109),N=a(99779);function j({daysLeft:e}){return s.jsx("div",{className:"",children:(0,s.jsxs)("div",{className:"flex items-center justify-center p-2 ml-4 ",children:[(0,s.jsxs)("h1",{className:"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl",children:[(0,s.jsxs)("span",{className:"text-amber-300",children:[e," "]}),"days left for premium to expire"]}),s.jsx(N.J5,{src:"https://lottie.host/01219472-dc1c-4306-a580-71c705ff1ad0/G88NDSeO5d.json ",className:"player",loop:!0,autoplay:!0,style:{height:"300px",width:"300px"}})]})})}function v(){let{data:e,status:t}=(0,b.useSession)(),[a,n]=(0,r.useState)(null),[o,d]=(0,r.useState)("");return(0,r.useCallback)(async()=>{let t=await y.Z.post("/api/user/premiumStatus",{userId:e?.id});console.log(e),console.log(t.data.role),n(t.data.role),("premium"===t.data.role||"admin"===t.data.role)&&d((await y.Z.post("/api/user/expiry-date",{userId:e?.id})).data.daysLeft)},[e]),(0,s.jsxs)("div",{className:"bg-white border h-screen my-7",children:[s.jsx("div",{className:"p-4",children:s.jsx(m,{children:"Premium"})}),"payment"===a&&s.jsx("div",{children:s.jsx(g,{})}),"user"===a&&(0,s.jsxs)("div",{className:"p-4 flex",children:[(0,s.jsxs)("h1",{className:"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl",children:["Unlock Premium: A better way to use"," ",s.jsx("span",{className:"bg-blue-500 text-white rounded",children:"Ginger!"})]}),s.jsx("div",{className:"",children:s.jsx(x,{setPage:n})})]}),"premium"===a&&(0,s.jsxs)("div",{children:[" ",s.jsx(j,{daysLeft:o})]}),"admin"===a&&(0,s.jsxs)("div",{children:[" ",s.jsx(j,{daysLeft:o})]})]})}}};
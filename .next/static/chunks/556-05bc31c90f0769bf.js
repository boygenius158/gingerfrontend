"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[556],{37811:function(e,t,a){let r;a.d(t,{q:function(){return tC}});var n,i,s,o,l,d,u,c,p,h=a(2265);(n=o||(o={})).assertEqual=e=>e,n.assertIs=function(e){},n.assertNever=function(e){throw Error()},n.arrayToEnum=e=>{let t={};for(let a of e)t[a]=a;return t},n.getValidEnumValues=e=>{let t=n.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),a={};for(let r of t)a[r]=e[r];return n.objectValues(a)},n.objectValues=e=>n.objectKeys(e).map(function(t){return e[t]}),n.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t},n.find=(e,t)=>{for(let a of e)if(t(a))return a},n.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,n.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},n.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(l||(l={})).mergeShapes=(e,t)=>({...e,...t});let m=o.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),f=e=>{switch(typeof e){case"undefined":return m.undefined;case"string":return m.string;case"number":return isNaN(e)?m.nan:m.number;case"boolean":return m.boolean;case"function":return m.function;case"bigint":return m.bigint;case"symbol":return m.symbol;case"object":if(Array.isArray(e))return m.array;if(null===e)return m.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return m.promise;if("undefined"!=typeof Map&&e instanceof Map)return m.map;if("undefined"!=typeof Set&&e instanceof Set)return m.set;if("undefined"!=typeof Date&&e instanceof Date)return m.date;return m.object;default:return m.unknown}},y=o.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class g extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},a={_errors:[]},r=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(r);else if("invalid_return_type"===n.code)r(n.returnTypeError);else if("invalid_arguments"===n.code)r(n.argumentsError);else if(0===n.path.length)a._errors.push(t(n));else{let e=a,r=0;for(;r<n.path.length;){let a=n.path[r];r===n.path.length-1?(e[a]=e[a]||{_errors:[]},e[a]._errors.push(t(n))):e[a]=e[a]||{_errors:[]},e=e[a],r++}}};return r(this),a}static assert(e){if(!(e instanceof g))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,o.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},a=[];for(let r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):a.push(e(r));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}}g.create=e=>new g(e);let v=(e,t)=>{let a;switch(e.code){case y.invalid_type:a=e.received===m.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case y.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(e.expected,o.jsonStringifyReplacer)}`;break;case y.unrecognized_keys:a=`Unrecognized key(s) in object: ${o.joinValues(e.keys,", ")}`;break;case y.invalid_union:a="Invalid input";break;case y.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${o.joinValues(e.options)}`;break;case y.invalid_enum_value:a=`Invalid enum value. Expected ${o.joinValues(e.options)}, received '${e.received}'`;break;case y.invalid_arguments:a="Invalid function arguments";break;case y.invalid_return_type:a="Invalid function return type";break;case y.invalid_date:a="Invalid date";break;case y.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(a=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(a=`${a} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?a=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?a=`Invalid input: must end with "${e.validation.endsWith}"`:o.assertNever(e.validation):a="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case y.too_small:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case y.too_big:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case y.custom:a="Invalid input";break;case y.invalid_intersection_types:a="Intersection results could not be merged";break;case y.not_multiple_of:a=`Number must be a multiple of ${e.multipleOf}`;break;case y.not_finite:a="Number must be finite";break;default:a=t.defaultError,o.assertNever(e)}return{message:a}},_=v;function b(){return _}let k=e=>{let{data:t,path:a,errorMaps:r,issueData:n}=e,i=[...a,...n.path||[]],s={...n,path:i};if(void 0!==n.message)return{...n,path:i,message:n.message};let o="";for(let e of r.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...n,path:i,message:o}};function w(e,t){let a=b(),r=k({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,a,a===v?void 0:v].filter(e=>!!e)});e.common.issues.push(r)}class x{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let a=[];for(let r of t){if("aborted"===r.status)return T;"dirty"===r.status&&e.dirty(),a.push(r.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,t){let a=[];for(let e of t){let t=await e.key,r=await e.value;a.push({key:t,value:r})}return x.mergeObjectSync(e,a)}static mergeObjectSync(e,t){let a={};for(let r of t){let{key:t,value:n}=r;if("aborted"===t.status||"aborted"===n.status)return T;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||r.alwaysSet)&&(a[t.value]=n.value)}return{status:e.value,value:a}}}let T=Object.freeze({status:"aborted"}),E=e=>({status:"dirty",value:e}),C=e=>({status:"valid",value:e}),O=e=>"aborted"===e.status,Z=e=>"dirty"===e.status,N=e=>"valid"===e.status,S=e=>"undefined"!=typeof Promise&&e instanceof Promise;function I(e,t,a,r){if("a"===a&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)}function P(e,t,a,r,n){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a}"function"==typeof SuppressedError&&SuppressedError,(i=d||(d={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},i.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class j{constructor(e,t,a,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let R=(e,t)=>{if(N(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new g(e.common.issues);return this._error=t,this._error}}};function A(e){if(!e)return{};let{errorMap:t,invalid_type_error:a,required_error:r,description:n}=e;if(t&&(a||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{var i,s;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:n.defaultError}:void 0===n.data?{message:null!==(i=null!=o?o:r)&&void 0!==i?i:n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:null!==(s=null!=o?o:a)&&void 0!==s?s:n.defaultError}},description:n}}class L{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return f(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:f(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new x,ctx:{common:e.parent.common,data:e.data,parsedType:f(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(S(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){var a;let r={common:{issues:[],async:null!==(a=null==t?void 0:t.async)&&void 0!==a&&a,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:f(e)},n=this._parseSync({data:e,path:r.path,parent:r});return R(r,n)}async parseAsync(e,t){let a=await this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error}async safeParseAsync(e,t){let a={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:f(e)},r=this._parse({data:e,path:a.path,parent:a});return R(a,await (S(r)?r:Promise.resolve(r)))}refine(e,t){let a=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{let n=e(t),i=()=>r.addIssue({code:y.custom,...a(t)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(i(),!1)):!!n||(i(),!1)})}refinement(e,t){return this._refinement((a,r)=>!!e(a)||(r.addIssue("function"==typeof t?t(a,r):t),!1))}_refinement(e){return new eC({schema:this,typeName:p.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return eO.create(this,this._def)}nullable(){return eZ.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ed.create(this,this._def)}promise(){return eE.create(this,this._def)}or(e){return ec.create([this,e],this._def)}and(e){return em.create(this,e,this._def)}transform(e){return new eC({...A(this._def),schema:this,typeName:p.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eN({...A(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:p.ZodDefault})}brand(){return new ej({typeName:p.ZodBranded,type:this,...A(this._def)})}catch(e){return new eS({...A(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:p.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eR.create(this,e)}readonly(){return eA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let M=/^c[^\s-]{8,}$/i,$=/^[0-9a-z]+$/,D=/^[0-9A-HJKMNP-TV-Z]{26}$/,z=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,U=/^[a-z0-9_-]{21}$/i,B=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,V=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,F=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,K=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,W=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,q="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",H=RegExp(`^${q}$`);function J(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function X(e){let t=`${q}T${J(e)}`,a=[];return a.push(e.local?"Z?":"Z"),e.offset&&a.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${a.join("|")})`,RegExp(`^${t}$`)}class Y extends L{_parse(e){var t,a;let n;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==m.string){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.string,received:t.parsedType}),T}let i=new x;for(let s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(w(n=this._getOrReturnCtx(e,n),{code:y.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if("max"===s.kind)e.data.length>s.value&&(w(n=this._getOrReturnCtx(e,n),{code:y.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if("length"===s.kind){let t=e.data.length>s.value,a=e.data.length<s.value;(t||a)&&(n=this._getOrReturnCtx(e,n),t?w(n,{code:y.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&w(n,{code:y.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if("email"===s.kind)V.test(e.data)||(w(n=this._getOrReturnCtx(e,n),{validation:"email",code:y.invalid_string,message:s.message}),i.dirty());else if("emoji"===s.kind)r||(r=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),r.test(e.data)||(w(n=this._getOrReturnCtx(e,n),{validation:"emoji",code:y.invalid_string,message:s.message}),i.dirty());else if("uuid"===s.kind)z.test(e.data)||(w(n=this._getOrReturnCtx(e,n),{validation:"uuid",code:y.invalid_string,message:s.message}),i.dirty());else if("nanoid"===s.kind)U.test(e.data)||(w(n=this._getOrReturnCtx(e,n),{validation:"nanoid",code:y.invalid_string,message:s.message}),i.dirty());else if("cuid"===s.kind)M.test(e.data)||(w(n=this._getOrReturnCtx(e,n),{validation:"cuid",code:y.invalid_string,message:s.message}),i.dirty());else if("cuid2"===s.kind)$.test(e.data)||(w(n=this._getOrReturnCtx(e,n),{validation:"cuid2",code:y.invalid_string,message:s.message}),i.dirty());else if("ulid"===s.kind)D.test(e.data)||(w(n=this._getOrReturnCtx(e,n),{validation:"ulid",code:y.invalid_string,message:s.message}),i.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(t){w(n=this._getOrReturnCtx(e,n),{validation:"url",code:y.invalid_string,message:s.message}),i.dirty()}else"regex"===s.kind?(s.regex.lastIndex=0,s.regex.test(e.data)||(w(n=this._getOrReturnCtx(e,n),{validation:"regex",code:y.invalid_string,message:s.message}),i.dirty())):"trim"===s.kind?e.data=e.data.trim():"includes"===s.kind?e.data.includes(s.value,s.position)||(w(n=this._getOrReturnCtx(e,n),{code:y.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):"toLowerCase"===s.kind?e.data=e.data.toLowerCase():"toUpperCase"===s.kind?e.data=e.data.toUpperCase():"startsWith"===s.kind?e.data.startsWith(s.value)||(w(n=this._getOrReturnCtx(e,n),{code:y.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):"endsWith"===s.kind?e.data.endsWith(s.value)||(w(n=this._getOrReturnCtx(e,n),{code:y.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):"datetime"===s.kind?X(s).test(e.data)||(w(n=this._getOrReturnCtx(e,n),{code:y.invalid_string,validation:"datetime",message:s.message}),i.dirty()):"date"===s.kind?H.test(e.data)||(w(n=this._getOrReturnCtx(e,n),{code:y.invalid_string,validation:"date",message:s.message}),i.dirty()):"time"===s.kind?RegExp(`^${J(s)}$`).test(e.data)||(w(n=this._getOrReturnCtx(e,n),{code:y.invalid_string,validation:"time",message:s.message}),i.dirty()):"duration"===s.kind?B.test(e.data)||(w(n=this._getOrReturnCtx(e,n),{validation:"duration",code:y.invalid_string,message:s.message}),i.dirty()):"ip"===s.kind?(t=e.data,("v4"===(a=s.version)||!a)&&F.test(t)||("v6"===a||!a)&&K.test(t)||(w(n=this._getOrReturnCtx(e,n),{validation:"ip",code:y.invalid_string,message:s.message}),i.dirty())):"base64"===s.kind?W.test(e.data)||(w(n=this._getOrReturnCtx(e,n),{validation:"base64",code:y.invalid_string,message:s.message}),i.dirty()):o.assertNever(s);return{status:i.value,value:e.data}}_regex(e,t,a){return this.refinement(t=>e.test(t),{validation:t,code:y.invalid_string,...d.errToObj(a)})}_addCheck(e){return new Y({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...d.errToObj(e)})}url(e){return this._addCheck({kind:"url",...d.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...d.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...d.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...d.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...d.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...d.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...d.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...d.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...d.errToObj(e)})}datetime(e){var t,a;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(a=null==e?void 0:e.local)&&void 0!==a&&a,...d.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...d.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...d.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...d.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...d.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...d.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...d.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...d.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...d.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...d.errToObj(t)})}nonempty(e){return this.min(1,d.errToObj(e))}trim(){return new Y({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Y({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Y({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Y.create=e=>{var t;return new Y({checks:[],typeName:p.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...A(e)})};class G extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==m.number){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.number,received:t.parsedType}),T}let a=new x;for(let r of this._def.checks)"int"===r.kind?o.isInteger(e.data)||(w(t=this._getOrReturnCtx(e,t),{code:y.invalid_type,expected:"integer",received:"float",message:r.message}),a.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(w(t=this._getOrReturnCtx(e,t),{code:y.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(w(t=this._getOrReturnCtx(e,t),{code:y.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty()):"multipleOf"===r.kind?0!==function(e,t){let a=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,n=a>r?a:r;return parseInt(e.toFixed(n).replace(".",""))%parseInt(t.toFixed(n).replace(".",""))/Math.pow(10,n)}(e.data,r.value)&&(w(t=this._getOrReturnCtx(e,t),{code:y.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(w(t=this._getOrReturnCtx(e,t),{code:y.not_finite,message:r.message}),a.dirty()):o.assertNever(r);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(e,t,a,r){return new G({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:d.toString(r)}]})}_addCheck(e){return new G({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:d.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:d.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:d.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:d.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&o.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let a of this._def.checks){if("finite"===a.kind||"int"===a.kind||"multipleOf"===a.kind)return!0;"min"===a.kind?(null===t||a.value>t)&&(t=a.value):"max"===a.kind&&(null===e||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}}G.create=e=>new G({checks:[],typeName:p.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...A(e)});class Q extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==m.bigint){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.bigint,received:t.parsedType}),T}let a=new x;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(w(t=this._getOrReturnCtx(e,t),{code:y.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(w(t=this._getOrReturnCtx(e,t),{code:y.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(w(t=this._getOrReturnCtx(e,t),{code:y.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):o.assertNever(r);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(e,t,a,r){return new Q({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:d.toString(r)}]})}_addCheck(e){return new Q({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Q.create=e=>{var t;return new Q({checks:[],typeName:p.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...A(e)})};class ee extends L{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==m.boolean){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.boolean,received:t.parsedType}),T}return C(e.data)}}ee.create=e=>new ee({typeName:p.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...A(e)});class et extends L{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==m.date){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.date,received:t.parsedType}),T}if(isNaN(e.data.getTime()))return w(this._getOrReturnCtx(e),{code:y.invalid_date}),T;let a=new x;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(w(t=this._getOrReturnCtx(e,t),{code:y.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),a.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(w(t=this._getOrReturnCtx(e,t),{code:y.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),a.dirty()):o.assertNever(r);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:d.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:d.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}et.create=e=>new et({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:p.ZodDate,...A(e)});class ea extends L{_parse(e){if(this._getType(e)!==m.symbol){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.symbol,received:t.parsedType}),T}return C(e.data)}}ea.create=e=>new ea({typeName:p.ZodSymbol,...A(e)});class er extends L{_parse(e){if(this._getType(e)!==m.undefined){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.undefined,received:t.parsedType}),T}return C(e.data)}}er.create=e=>new er({typeName:p.ZodUndefined,...A(e)});class en extends L{_parse(e){if(this._getType(e)!==m.null){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.null,received:t.parsedType}),T}return C(e.data)}}en.create=e=>new en({typeName:p.ZodNull,...A(e)});class ei extends L{constructor(){super(...arguments),this._any=!0}_parse(e){return C(e.data)}}ei.create=e=>new ei({typeName:p.ZodAny,...A(e)});class es extends L{constructor(){super(...arguments),this._unknown=!0}_parse(e){return C(e.data)}}es.create=e=>new es({typeName:p.ZodUnknown,...A(e)});class eo extends L{_parse(e){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.never,received:t.parsedType}),T}}eo.create=e=>new eo({typeName:p.ZodNever,...A(e)});class el extends L{_parse(e){if(this._getType(e)!==m.undefined){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.void,received:t.parsedType}),T}return C(e.data)}}el.create=e=>new el({typeName:p.ZodVoid,...A(e)});class ed extends L{_parse(e){let{ctx:t,status:a}=this._processInputParams(e),r=this._def;if(t.parsedType!==m.array)return w(t,{code:y.invalid_type,expected:m.array,received:t.parsedType}),T;if(null!==r.exactLength){let e=t.data.length>r.exactLength.value,n=t.data.length<r.exactLength.value;(e||n)&&(w(t,{code:e?y.too_big:y.too_small,minimum:n?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),a.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(w(t,{code:y.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),a.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(w(t,{code:y.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map((e,a)=>r.type._parseAsync(new j(t,e,t.path,a)))).then(e=>x.mergeArray(a,e));let n=[...t.data].map((e,a)=>r.type._parseSync(new j(t,e,t.path,a)));return x.mergeArray(a,n)}get element(){return this._def.type}min(e,t){return new ed({...this._def,minLength:{value:e,message:d.toString(t)}})}max(e,t){return new ed({...this._def,maxLength:{value:e,message:d.toString(t)}})}length(e,t){return new ed({...this._def,exactLength:{value:e,message:d.toString(t)}})}nonempty(e){return this.min(1,e)}}ed.create=(e,t)=>new ed({type:e,minLength:null,maxLength:null,exactLength:null,typeName:p.ZodArray,...A(t)});class eu extends L{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=o.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==m.object){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.object,received:t.parsedType}),T}let{status:t,ctx:a}=this._processInputParams(e),{shape:r,keys:n}=this._getCached(),i=[];if(!(this._def.catchall instanceof eo&&"strip"===this._def.unknownKeys))for(let e in a.data)n.includes(e)||i.push(e);let s=[];for(let e of n){let t=r[e],n=a.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new j(a,n,a.path,e)),alwaysSet:e in a.data})}if(this._def.catchall instanceof eo){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:a.data[e]}});else if("strict"===e)i.length>0&&(w(a,{code:y.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let r=a.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new j(a,r,a.path,t)),alwaysSet:t in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let a=await t.key,r=await t.value;e.push({key:a,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>x.mergeObjectSync(t,e)):x.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return d.errToObj,new eu({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,a)=>{var r,n,i,s;let o=null!==(i=null===(n=(r=this._def).errorMap)||void 0===n?void 0:n.call(r,t,a).message)&&void 0!==i?i:a.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=d.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new eu({...this._def,unknownKeys:"strip"})}passthrough(){return new eu({...this._def,unknownKeys:"passthrough"})}extend(e){return new eu({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new eu({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:p.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new eu({...this._def,catchall:e})}pick(e){let t={};return o.objectKeys(e).forEach(a=>{e[a]&&this.shape[a]&&(t[a]=this.shape[a])}),new eu({...this._def,shape:()=>t})}omit(e){let t={};return o.objectKeys(this.shape).forEach(a=>{e[a]||(t[a]=this.shape[a])}),new eu({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof eu){let a={};for(let r in t.shape){let n=t.shape[r];a[r]=eO.create(e(n))}return new eu({...t._def,shape:()=>a})}return t instanceof ed?new ed({...t._def,type:e(t.element)}):t instanceof eO?eO.create(e(t.unwrap())):t instanceof eZ?eZ.create(e(t.unwrap())):t instanceof ef?ef.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return o.objectKeys(this.shape).forEach(a=>{let r=this.shape[a];e&&!e[a]?t[a]=r:t[a]=r.optional()}),new eu({...this._def,shape:()=>t})}required(e){let t={};return o.objectKeys(this.shape).forEach(a=>{if(e&&!e[a])t[a]=this.shape[a];else{let e=this.shape[a];for(;e instanceof eO;)e=e._def.innerType;t[a]=e}}),new eu({...this._def,shape:()=>t})}keyof(){return ew(o.objectKeys(this.shape))}}eu.create=(e,t)=>new eu({shape:()=>e,unknownKeys:"strip",catchall:eo.create(),typeName:p.ZodObject,...A(t)}),eu.strictCreate=(e,t)=>new eu({shape:()=>e,unknownKeys:"strict",catchall:eo.create(),typeName:p.ZodObject,...A(t)}),eu.lazycreate=(e,t)=>new eu({shape:e,unknownKeys:"strip",catchall:eo.create(),typeName:p.ZodObject,...A(t)});class ec extends L{_parse(e){let{ctx:t}=this._processInputParams(e),a=this._def.options;if(t.common.async)return Promise.all(a.map(async e=>{let a={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let a of e)if("dirty"===a.result.status)return t.common.issues.push(...a.ctx.common.issues),a.result;let a=e.map(e=>new g(e.ctx.common.issues));return w(t,{code:y.invalid_union,unionErrors:a}),T});{let e;let r=[];for(let n of a){let a={...t,common:{...t.common,issues:[]},parent:null},i=n._parseSync({data:t.data,path:t.path,parent:a});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:a}),a.common.issues.length&&r.push(a.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=r.map(e=>new g(e));return w(t,{code:y.invalid_union,unionErrors:n}),T}}get options(){return this._def.options}}ec.create=(e,t)=>new ec({options:e,typeName:p.ZodUnion,...A(t)});let ep=e=>{if(e instanceof eb)return ep(e.schema);if(e instanceof eC)return ep(e.innerType());if(e instanceof ek)return[e.value];if(e instanceof ex)return e.options;if(e instanceof eT)return o.objectValues(e.enum);if(e instanceof eN)return ep(e._def.innerType);if(e instanceof er)return[void 0];else if(e instanceof en)return[null];else if(e instanceof eO)return[void 0,...ep(e.unwrap())];else if(e instanceof eZ)return[null,...ep(e.unwrap())];else if(e instanceof ej)return ep(e.unwrap());else if(e instanceof eA)return ep(e.unwrap());else if(e instanceof eS)return ep(e._def.innerType);else return[]};class eh extends L{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.object)return w(t,{code:y.invalid_type,expected:m.object,received:t.parsedType}),T;let a=this.discriminator,r=t.data[a],n=this.optionsMap.get(r);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(w(t,{code:y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),T)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,a){let r=new Map;for(let a of t){let t=ep(a.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(r.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,a)}}return new eh({typeName:p.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...A(a)})}}class em extends L{_parse(e){let{status:t,ctx:a}=this._processInputParams(e),r=(e,r)=>{if(O(e)||O(r))return T;let n=function e(t,a){let r=f(t),n=f(a);if(t===a)return{valid:!0,data:t};if(r===m.object&&n===m.object){let r=o.objectKeys(a),n=o.objectKeys(t).filter(e=>-1!==r.indexOf(e)),i={...t,...a};for(let r of n){let n=e(t[r],a[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(r===m.array&&n===m.array){if(t.length!==a.length)return{valid:!1};let r=[];for(let n=0;n<t.length;n++){let i=e(t[n],a[n]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===m.date&&n===m.date&&+t==+a?{valid:!0,data:t}:{valid:!1}}(e.value,r.value);return n.valid?((Z(e)||Z(r))&&t.dirty(),{status:t.value,value:n.data}):(w(a,{code:y.invalid_intersection_types}),T)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}em.create=(e,t,a)=>new em({left:e,right:t,typeName:p.ZodIntersection,...A(a)});class ef extends L{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==m.array)return w(a,{code:y.invalid_type,expected:m.array,received:a.parsedType}),T;if(a.data.length<this._def.items.length)return w(a,{code:y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),T;!this._def.rest&&a.data.length>this._def.items.length&&(w(a,{code:y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let r=[...a.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new j(a,e,a.path,t)):null}).filter(e=>!!e);return a.common.async?Promise.all(r).then(e=>x.mergeArray(t,e)):x.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ef({...this._def,rest:e})}}ef.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ef({items:e,typeName:p.ZodTuple,rest:null,...A(t)})};class ey extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==m.object)return w(a,{code:y.invalid_type,expected:m.object,received:a.parsedType}),T;let r=[],n=this._def.keyType,i=this._def.valueType;for(let e in a.data)r.push({key:n._parse(new j(a,e,a.path,e)),value:i._parse(new j(a,a.data[e],a.path,e)),alwaysSet:e in a.data});return a.common.async?x.mergeObjectAsync(t,r):x.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,a){return new ey(t instanceof L?{keyType:e,valueType:t,typeName:p.ZodRecord,...A(a)}:{keyType:Y.create(),valueType:e,typeName:p.ZodRecord,...A(t)})}}class eg extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==m.map)return w(a,{code:y.invalid_type,expected:m.map,received:a.parsedType}),T;let r=this._def.keyType,n=this._def.valueType,i=[...a.data.entries()].map(([e,t],i)=>({key:r._parse(new j(a,e,a.path,[i,"key"])),value:n._parse(new j(a,t,a.path,[i,"value"]))}));if(a.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let a of i){let r=await a.key,n=await a.value;if("aborted"===r.status||"aborted"===n.status)return T;("dirty"===r.status||"dirty"===n.status)&&t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let a of i){let r=a.key,n=a.value;if("aborted"===r.status||"aborted"===n.status)return T;("dirty"===r.status||"dirty"===n.status)&&t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}}}}eg.create=(e,t,a)=>new eg({valueType:t,keyType:e,typeName:p.ZodMap,...A(a)});class ev extends L{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==m.set)return w(a,{code:y.invalid_type,expected:m.set,received:a.parsedType}),T;let r=this._def;null!==r.minSize&&a.data.size<r.minSize.value&&(w(a,{code:y.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&a.data.size>r.maxSize.value&&(w(a,{code:y.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let n=this._def.valueType;function i(e){let a=new Set;for(let r of e){if("aborted"===r.status)return T;"dirty"===r.status&&t.dirty(),a.add(r.value)}return{status:t.value,value:a}}let s=[...a.data.values()].map((e,t)=>n._parse(new j(a,e,a.path,t)));return a.common.async?Promise.all(s).then(e=>i(e)):i(s)}min(e,t){return new ev({...this._def,minSize:{value:e,message:d.toString(t)}})}max(e,t){return new ev({...this._def,maxSize:{value:e,message:d.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ev.create=(e,t)=>new ev({valueType:e,minSize:null,maxSize:null,typeName:p.ZodSet,...A(t)});class e_ extends L{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.function)return w(t,{code:y.invalid_type,expected:m.function,received:t.parsedType}),T;function a(e,a){return k({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b(),v].filter(e=>!!e),issueData:{code:y.invalid_arguments,argumentsError:a}})}function r(e,a){return k({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b(),v].filter(e=>!!e),issueData:{code:y.invalid_return_type,returnTypeError:a}})}let n={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof eE){let e=this;return C(async function(...t){let s=new g([]),o=await e._def.args.parseAsync(t,n).catch(e=>{throw s.addIssue(a(t,e)),s}),l=await Reflect.apply(i,this,o);return await e._def.returns._def.type.parseAsync(l,n).catch(e=>{throw s.addIssue(r(l,e)),s})})}{let e=this;return C(function(...t){let s=e._def.args.safeParse(t,n);if(!s.success)throw new g([a(t,s.error)]);let o=Reflect.apply(i,this,s.data),l=e._def.returns.safeParse(o,n);if(!l.success)throw new g([r(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new e_({...this._def,args:ef.create(e).rest(es.create())})}returns(e){return new e_({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,a){return new e_({args:e||ef.create([]).rest(es.create()),returns:t||es.create(),typeName:p.ZodFunction,...A(a)})}}class eb extends L{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eb.create=(e,t)=>new eb({getter:e,typeName:p.ZodLazy,...A(t)});class ek extends L{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return w(t,{received:t.data,code:y.invalid_literal,expected:this._def.value}),T}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ew(e,t){return new ex({values:e,typeName:p.ZodEnum,...A(t)})}ek.create=(e,t)=>new ek({value:e,typeName:p.ZodLiteral,...A(t)});class ex extends L{constructor(){super(...arguments),u.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),a=this._def.values;return w(t,{expected:o.joinValues(a),received:t.parsedType,code:y.invalid_type}),T}if(I(this,u,"f")||P(this,u,new Set(this._def.values),"f"),!I(this,u,"f").has(e.data)){let t=this._getOrReturnCtx(e),a=this._def.values;return w(t,{received:t.data,code:y.invalid_enum_value,options:a}),T}return C(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ex.create(e,{...this._def,...t})}exclude(e,t=this._def){return ex.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}u=new WeakMap,ex.create=ew;class eT extends L{constructor(){super(...arguments),c.set(this,void 0)}_parse(e){let t=o.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==m.string&&a.parsedType!==m.number){let e=o.objectValues(t);return w(a,{expected:o.joinValues(e),received:a.parsedType,code:y.invalid_type}),T}if(I(this,c,"f")||P(this,c,new Set(o.getValidEnumValues(this._def.values)),"f"),!I(this,c,"f").has(e.data)){let e=o.objectValues(t);return w(a,{received:a.data,code:y.invalid_enum_value,options:e}),T}return C(e.data)}get enum(){return this._def.values}}c=new WeakMap,eT.create=(e,t)=>new eT({values:e,typeName:p.ZodNativeEnum,...A(t)});class eE extends L{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==m.promise&&!1===t.common.async?(w(t,{code:y.invalid_type,expected:m.promise,received:t.parsedType}),T):C((t.parsedType===m.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eE.create=(e,t)=>new eE({type:e,typeName:p.ZodPromise,...A(t)});class eC extends L{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===p.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:a}=this._processInputParams(e),r=this._def.effect||null,n={addIssue:e=>{w(a,e),e.fatal?t.abort():t.dirty()},get path(){return a.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===r.type){let e=r.transform(a.data,n);if(a.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return T;let r=await this._def.schema._parseAsync({data:e,path:a.path,parent:a});return"aborted"===r.status?T:"dirty"===r.status||"dirty"===t.value?E(r.value):r});{if("aborted"===t.value)return T;let r=this._def.schema._parseSync({data:e,path:a.path,parent:a});return"aborted"===r.status?T:"dirty"===r.status||"dirty"===t.value?E(r.value):r}}if("refinement"===r.type){let e=e=>{let t=r.refinement(e,n);if(a.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==a.common.async)return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(a=>"aborted"===a.status?T:("dirty"===a.status&&t.dirty(),e(a.value).then(()=>({status:t.value,value:a.value}))));{let r=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===r.status?T:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}}if("transform"===r.type){if(!1!==a.common.async)return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(e=>N(e)?Promise.resolve(r.transform(e.value,n)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!N(e))return e;let i=r.transform(e.value,n);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}}o.assertNever(r)}}eC.create=(e,t,a)=>new eC({schema:e,typeName:p.ZodEffects,effect:t,...A(a)}),eC.createWithPreprocess=(e,t,a)=>new eC({schema:t,effect:{type:"preprocess",transform:e},typeName:p.ZodEffects,...A(a)});class eO extends L{_parse(e){return this._getType(e)===m.undefined?C(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eO.create=(e,t)=>new eO({innerType:e,typeName:p.ZodOptional,...A(t)});class eZ extends L{_parse(e){return this._getType(e)===m.null?C(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eZ.create=(e,t)=>new eZ({innerType:e,typeName:p.ZodNullable,...A(t)});class eN extends L{_parse(e){let{ctx:t}=this._processInputParams(e),a=t.data;return t.parsedType===m.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eN.create=(e,t)=>new eN({innerType:e,typeName:p.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...A(t)});class eS extends L{_parse(e){let{ctx:t}=this._processInputParams(e),a={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return S(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new g(a.common.issues)},input:a.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new g(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}eS.create=(e,t)=>new eS({innerType:e,typeName:p.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...A(t)});class eI extends L{_parse(e){if(this._getType(e)!==m.nan){let t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.nan,received:t.parsedType}),T}return{status:"valid",value:e.data}}}eI.create=e=>new eI({typeName:p.ZodNaN,...A(e)});let eP=Symbol("zod_brand");class ej extends L{_parse(e){let{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}}class eR extends L{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?T:"dirty"===e.status?(t.dirty(),E(e.value)):this._def.out._parseAsync({data:e.value,path:a.path,parent:a})})();{let e=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?T:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:a.path,parent:a})}}static create(e,t){return new eR({in:e,out:t,typeName:p.ZodPipeline})}}class eA extends L{_parse(e){let t=this._def.innerType._parse(e),a=e=>(N(e)&&(e.value=Object.freeze(e.value)),e);return S(t)?t.then(e=>a(e)):a(t)}unwrap(){return this._def.innerType}}function eL(e,t={},a){return e?ei.create().superRefine((r,n)=>{var i,s;if(!e(r)){let e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,o=null===(s=null!==(i=e.fatal)&&void 0!==i?i:a)||void 0===s||s;n.addIssue({code:"custom",..."string"==typeof e?{message:e}:e,fatal:o})}}):ei.create()}eA.create=(e,t)=>new eA({innerType:e,typeName:p.ZodReadonly,...A(t)});let eM={object:eu.lazycreate};(s=p||(p={})).ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly";let e$=Y.create,eD=G.create,ez=eI.create,eU=Q.create,eB=ee.create,eV=et.create,eF=ea.create,eK=er.create,eW=en.create,eq=ei.create,eH=es.create,eJ=eo.create,eX=el.create,eY=ed.create,eG=eu.create,eQ=eu.strictCreate,e0=ec.create,e1=eh.create,e2=em.create,e4=ef.create,e5=ey.create,e9=eg.create,e3=ev.create,e8=e_.create,e7=eb.create,e6=ek.create,te=ex.create,tt=eT.create,ta=eE.create,tr=eC.create,tn=eO.create,ti=eZ.create,ts=eC.createWithPreprocess,to=eR.create;var tl=Object.freeze({__proto__:null,defaultErrorMap:v,setErrorMap:function(e){_=e},getErrorMap:b,makeIssue:k,EMPTY_PATH:[],addIssueToContext:w,ParseStatus:x,INVALID:T,DIRTY:E,OK:C,isAborted:O,isDirty:Z,isValid:N,isAsync:S,get util(){return o},get objectUtil(){return l},ZodParsedType:m,getParsedType:f,ZodType:L,datetimeRegex:X,ZodString:Y,ZodNumber:G,ZodBigInt:Q,ZodBoolean:ee,ZodDate:et,ZodSymbol:ea,ZodUndefined:er,ZodNull:en,ZodAny:ei,ZodUnknown:es,ZodNever:eo,ZodVoid:el,ZodArray:ed,ZodObject:eu,ZodUnion:ec,ZodDiscriminatedUnion:eh,ZodIntersection:em,ZodTuple:ef,ZodRecord:ey,ZodMap:eg,ZodSet:ev,ZodFunction:e_,ZodLazy:eb,ZodLiteral:ek,ZodEnum:ex,ZodNativeEnum:eT,ZodPromise:eE,ZodEffects:eC,ZodTransformer:eC,ZodOptional:eO,ZodNullable:eZ,ZodDefault:eN,ZodCatch:eS,ZodNaN:eI,BRAND:eP,ZodBranded:ej,ZodPipeline:eR,ZodReadonly:eA,custom:eL,Schema:L,ZodSchema:L,late:eM,get ZodFirstPartyTypeKind(){return p},coerce:{string:e=>Y.create({...e,coerce:!0}),number:e=>G.create({...e,coerce:!0}),boolean:e=>ee.create({...e,coerce:!0}),bigint:e=>Q.create({...e,coerce:!0}),date:e=>et.create({...e,coerce:!0})},any:eq,array:eY,bigint:eU,boolean:eB,date:eV,discriminatedUnion:e1,effect:tr,enum:te,function:e8,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>eL(t=>t instanceof e,t),intersection:e2,lazy:e7,literal:e6,map:e9,nan:ez,nativeEnum:tt,never:eJ,null:eW,nullable:ti,number:eD,object:eG,oboolean:()=>eB().optional(),onumber:()=>eD().optional(),optional:tn,ostring:()=>e$().optional(),pipeline:to,preprocess:ts,promise:ta,record:e5,set:e3,strictObject:eQ,string:e$,symbol:eF,transformer:tr,tuple:e4,undefined:eK,union:e0,unknown:eH,void:eX,NEVER:T,ZodIssueCode:y,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:g});class td extends Error{constructor(e){var t,a;super(e.response.message),a=void 0,(t="data")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a,this.name="EdgeStoreApiClientError",this.data=e.response}}let tu=(e,t)=>{let a={...e,...t};return tc({type:a.type},a)};function tc(e,t){let a={type:e.type,input:tl.never(),path:[],metadata:()=>({}),...t};return{$config:{ctx:void 0},_def:a,input:e=>tu(a,{input:e}),path:e=>tu(a,{path:e(function(){let e=(t,a)=>new Proxy(()=>t,{get:(a,r)=>e(`${t}.${String(r)}`)});return new Proxy(()=>"",{get:(t,a)=>e(String(a))})}())}),metadata:e=>tu(a,{metadata:e}),accessControl:e=>tu(a,{accessControl:e}),beforeUpload:e=>tu(a,{beforeUpload:e}),beforeDelete:e=>tu(a,{beforeDelete:e})}}class tp{context(){return new tp}create(){return{imageBucket:e=>th("IMAGE",e),fileBucket:e=>th("FILE",e),router:function(e){return{$config:{ctx:void 0},buckets:e}}}}}function th(e,t){return tc({type:e},{bucketConfig:t})}new tp;class tm extends Error{constructor(e){super(e),this.name="UploadAbortedError"}}var tf=a(25566);class ty extends Error{constructor(e){super(e),this.name="EdgeStoreError"}}async function tg(e){let t={};try{t=await e.json()}catch(t){throw new ty(`Failed to parse response. Make sure the api is correctly configured at ${e.url}`)}throw new td({response:t})}async function tv({file:e,signal:t,input:a,onProgressChange:r,options:n},{apiPath:i,bucketName:s}){try{r?.(0);let o=await fetch(`${i}/request-upload`,{method:"POST",credentials:"include",signal:t,body:JSON.stringify({bucketName:s,input:a,fileInfo:{extension:e.name.split(".").pop(),type:e.type,size:e.size,fileName:n?.manualFileName,replaceTargetUrl:n?.replaceTargetUrl,temporary:n?.temporary}}),headers:{"Content-Type":"application/json"}});o.ok||await tg(o);let l=await o.json();if("multipart"in l)await tk({bucketName:s,multipartInfo:l.multipart,onProgressChange:r,signal:t,file:e,apiPath:i});else if("uploadUrl"in l)await tb({file:e,uploadUrl:l.uploadUrl,onProgressChange:r,signal:t});else throw new ty("An error occurred");return{url:function(e,t){return e}(l.accessUrl,i),thumbnailUrl:l.thumbnailUrl?function(e,t){return e}(l.thumbnailUrl,i):null,size:l.size,uploadedAt:new Date(l.uploadedAt),path:l.path,pathOrder:l.pathOrder,metadata:l.metadata}}catch(e){if(e instanceof Error&&"AbortError"===e.name)throw new tm("File upload aborted");throw r?.(0),e}}function t_(e,t){return e}async function tb(e){let{file:t,uploadUrl:a,onProgressChange:r,signal:n}=e;return new Promise((e,i)=>{if(n?.aborted){i(new tm("File upload aborted"));return}let s=new XMLHttpRequest;s.open("PUT",a),s.setRequestHeader("x-ms-blob-type","BlockBlob"),s.addEventListener("loadstart",()=>{r?.(0)}),s.upload.addEventListener("progress",e=>{if(e.lengthComputable){let t=Math.round(e.loaded/e.total*1e4)/100;r?.(t)}}),s.addEventListener("error",()=>{i(Error("Error uploading file"))}),s.addEventListener("abort",()=>{i(new tm("File upload aborted"))}),s.addEventListener("loadend",()=>{e(s.getResponseHeader("ETag"))}),n&&n.addEventListener("abort",()=>{s.abort()}),s.send(t)})}async function tk(e){let{bucketName:t,multipartInfo:a,onProgressChange:r,file:n,signal:i,apiPath:s}=e,{partSize:o,parts:l,totalParts:d,uploadId:u,key:c}=a,p=[],h=async e=>{let{part:t,chunk:a}=e,{uploadUrl:n}=t,s=await tb({file:a,uploadUrl:n,signal:i,onProgressChange:e=>{let a=p.find(e=>e.partNumber===t.partNumber);a?a.progress=e:p.push({partNumber:t.partNumber,progress:e});let n=Math.round(p.reduce((e,t)=>e+100*t.progress,0)/d)/100;r?.(n)}});if(!s)throw new ty("Could not get ETag from multipart response");return{partNumber:t.partNumber,eTag:s}},m=await tT({items:l.map(e=>({part:e,chunk:n.slice((e.partNumber-1)*o,e.partNumber*o)})),fn:h,maxParallel:5,maxRetries:10}),f=await fetch(`${s}/complete-multipart-upload`,{method:"POST",credentials:"include",body:JSON.stringify({bucketName:t,uploadId:u,key:c,parts:m}),headers:{"Content-Type":"application/json"}});f.ok||await tg(f)}async function tw({url:e},{apiPath:t,bucketName:a}){let r=await fetch(`${t}/confirm-upload`,{method:"POST",credentials:"include",body:JSON.stringify({url:e,bucketName:a}),headers:{"Content-Type":"application/json"}});return r.ok||await tg(r),r.json()}async function tx({url:e},{apiPath:t,bucketName:a}){let r=await fetch(`${t}/delete-file`,{method:"POST",credentials:"include",body:JSON.stringify({url:e,bucketName:a}),headers:{"Content-Type":"application/json"}});return r.ok||await tg(r),r.json()}async function tT({items:e,fn:t,maxParallel:a,maxRetries:r=0}){let n=Array(e.length),i=async(e,t)=>{try{return await e()}catch(a){if(a instanceof tm)throw a;if(t>0)return await new Promise(e=>setTimeout(e,5e3)),i(e,t-1);throw a}},s={count:a,async wait(){for(;this.count<=0;)await new Promise(e=>setTimeout(e,500));this.count--},signal(){this.count++}},o=e.map((e,a)=>(async()=>{await s.wait();try{let s=await i(()=>t(e),r);n[a]=s}finally{s.signal()}})());return await Promise.all(o),n}let tE=(void 0!==tf?tf.env.NEXT_PUBLIC_EDGE_STORE_BASE_URL:void 0)??"https://files.edgestore.dev";function tC(e){let t=h.createContext(void 0);return{EdgeStoreProvider:({children:a,basePath:r})=>(function({children:e,context:t,basePath:a,maxConcurrentUploads:r}){let n=a?`${a}`:"/api/edgestore",[i,s]=h.useState({loading:!0,initialized:!1,error:!1}),o=h.useRef(0),l=h.useRef(!1);async function d(){try{s({loading:!0,initialized:!1,error:!1});let e=await fetch(`${n}/init`,{method:"POST",credentials:"include"});if(e.ok){let t=await e.json();if((await fetch(`${tE}/_init`,{method:"GET",credentials:"include",headers:{"x-edgestore-token":t.token}})).ok)s({loading:!1,initialized:!0,error:!1});else throw s({loading:!1,initialized:!1,error:!0}),new ty("Couldn't initialize Edge Store.")}else s({loading:!1,initialized:!1,error:!0}),await tg(e)}catch(e){throw s({loading:!1,initialized:!1,error:!0}),e}}async function u(){await d()}return h.useEffect(()=>(l.current||d(),()=>{l.current=!0}),[]),h.createElement(h.Fragment,null,h.createElement(t.Provider,{value:{edgestore:function({apiPath:e,uploadingCountRef:t,maxConcurrentUploads:a=5}){return new Proxy({},{get:(r,n)=>({upload:async r=>{try{r.onProgressChange?.(0);let i=new Promise(e=>{r.signal?.addEventListener("abort",()=>{e()},{once:!0})});for(;t.current>=a&&t.current>0;)if(await Promise.race([new Promise(e=>setTimeout(e,300)),i]),r.signal?.aborted)throw new tm("File upload aborted");return t.current++,await tv(r,{bucketName:n,apiPath:e})}finally{t.current--}},confirmUpload:async t=>{let{success:a}=await tw(t,{bucketName:n,apiPath:e});if(!a)throw new ty("Failed to confirm upload")},delete:async t=>{let{success:a}=await tx(t,{bucketName:n,apiPath:e});if(!a)throw new ty("Failed to delete file")}})})}({apiPath:n,uploadingCountRef:o,maxConcurrentUploads:r}),reset:u,state:i}},e))})({children:a,context:t,basePath:r,maxConcurrentUploads:e?.maxConcurrentUploads}),useEdgeStore:function(){if(!t)throw Error("React Context is unavailable in Server Components");return h.useContext(t)}}}},91810:function(e,t,a){a.d(t,{w_:function(){return u}});var r=a(2265),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(n),s=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){var r,n;r=t,n=a[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function u(e){return t=>r.createElement(c,o({attr:d({},e.attr)},t),function e(t){return t&&t.map((t,a)=>r.createElement(t.tag,d({key:a},t.attr),e(t.child)))}(e.child))}function c(e){var t=t=>{var a,{attr:n,size:i,title:l}=e,u=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,s),c=i||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,u,{className:a,style:d(d({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==i?r.createElement(i.Consumer,null,e=>t(e)):t(n)}},95956:function(e,t,a){a.d(t,{Am:function(){return C},Ix:function(){return R}});var r=a(2265),n=a(44839);let i=e=>"number"==typeof e&&!isNaN(e),s=e=>"string"==typeof e,o=e=>"function"==typeof e,l=e=>s(e)||o(e)?e:null,d=e=>(0,r.isValidElement)(e)||s(e)||o(e)||i(e);function u(e){let{enter:t,exit:a,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(e){let{children:o,position:l,preventExitTransition:d,done:u,nodeRef:c,isIn:p,playToast:h}=e,m=n?"".concat(t,"--").concat(l):t,f=n?"".concat(a,"--").concat(l):a,y=(0,r.useRef)(0);return(0,r.useLayoutEffect)(()=>{let e=c.current,t=m.split(" "),a=r=>{r.target===c.current&&(h(),e.removeEventListener("animationend",a),e.removeEventListener("animationcancel",a),0===y.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",a),e.addEventListener("animationcancel",a)},[]),(0,r.useEffect)(()=>{let e=c.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,a){void 0===a&&(a=300);let{scrollHeight:r,style:n}=e;requestAnimationFrame(()=>{n.minHeight="initial",n.height=r+"px",n.transition="all ".concat(a,"ms"),requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(t,a)})})}(e,u,s):u()};p||(d?t():(y.current=1,e.className+=" ".concat(f),e.addEventListener("animationend",t)))},[p]),r.createElement(r.Fragment,null,o)}}function c(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}let p=new Map,h=[],m=new Set,f=e=>m.forEach(t=>t(e)),y=()=>p.size>0;function g(e,t){var a;if(t)return!(null==(a=p.get(t))||!a.isToastActive(e));let r=!1;return p.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function v(e,t){d(e)&&(y()||h.push({content:e,options:t}),p.forEach(a=>{a.buildToast(e,t)}))}function _(e,t){p.forEach(a=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===a.id&&a.toggle(e,null==t?void 0:t.id):a.toggle(e,null==t?void 0:t.id)})}function b(e){let{delay:t,isRunning:a,closeToast:i,type:s="default",hide:l,className:d,style:u,controlledProgress:c,progress:p,rtl:h,isIn:m,theme:f}=e,y=l||c&&0===p,g={...u,animationDuration:"".concat(t,"ms"),animationPlayState:a?"running":"paused"};c&&(g.transform="scaleX(".concat(p,")"));let v=(0,n.Z)("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(s),{"Toastify__progress-bar--rtl":h}),_=o(d)?d({rtl:h,type:s,defaultClassName:v}):(0,n.Z)(v,d);return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},r.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(f," Toastify__progress-bar--").concat(s)}),r.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:_,style:g,[c&&p>=1?"onTransitionEnd":"onAnimationEnd"]:c&&p<1?null:()=>{m&&i()}}))}let k=1,w=()=>""+k++;function x(e,t){return v(e,t),t.toastId}function T(e,t){return{...t,type:t&&t.type||e,toastId:t&&(s(t.toastId)||i(t.toastId))?t.toastId:w()}}function E(e){return(t,a)=>x(t,T(e,a))}function C(e,t){return x(e,T("default",t))}C.loading=(e,t)=>x(e,T("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),C.promise=function(e,t,a){let r,{pending:n,error:i,success:l}=t;n&&(r=s(n)?C.loading(n,a):C.loading(n.render,{...a,...n}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(e,t,n)=>{if(null==t)return void C.dismiss(r);let i={type:e,...d,...a,data:n},o=s(t)?{render:t}:t;return r?C.update(r,{...i,...o}):C(o.render,{...i,...o}),n},c=o(e)?e():e;return c.then(e=>u("success",l,e)).catch(e=>u("error",i,e)),c},C.success=E("success"),C.info=E("info"),C.error=E("error"),C.warning=E("warning"),C.warn=C.warning,C.dark=(e,t)=>x(e,T("default",{theme:"dark",...t})),C.dismiss=function(e){!function(e){var t;if(y()){if(null==e||s(t=e)||i(t))p.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=p.get(e.containerId);t?t.removeToast(e.id):p.forEach(t=>{t.removeToast(e.id)})}}else h=h.filter(t=>null!=e&&t.options.toastId!==e)}(e)},C.clearWaitingQueue=function(e){void 0===e&&(e={}),p.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},C.isActive=g,C.update=function(e,t){void 0===t&&(t={});let a=((e,t)=>{var a;let{containerId:r}=t;return null==(a=p.get(r||1))?void 0:a.toasts.get(e)})(e,t);if(a){let{props:r,content:n}=a,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:w()};i.toastId!==e&&(i.staleId=e);let s=i.render||n;delete i.render,x(s,i)}},C.done=e=>{C.update(e,{progress:1})},C.onChange=function(e){return m.add(e),()=>{m.delete(e)}},C.play=e=>_(!0,e),C.pause=e=>_(!1,e);let O="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,Z=e=>{let{theme:t,type:a,isLoading:n,...i}=e;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(a,")"),...i})},N={info:function(e){return r.createElement(Z,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(Z,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(Z,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(Z,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}},S=e=>{let{isRunning:t,preventExitTransition:a,toastRef:i,eventHandlers:s,playToast:l}=function(e){var t,a;let[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1),l=(0,r.useRef)(null),d=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:c,closeToast:h,onClick:m,closeOnClick:f}=e;function y(){i(!0)}function g(){i(!1)}function v(t){let a=l.current;d.canDrag&&a&&(d.didMove=!0,n&&g(),d.delta="x"===e.draggableDirection?t.clientX-d.start:t.clientY-d.start,d.start!==t.clientX&&(d.canCloseOnClick=!1),a.style.transform="translate3d(".concat("x"===e.draggableDirection?"".concat(d.delta,"px, var(--y)"):"0, calc(".concat(d.delta,"px + var(--y))"),",0)"),a.style.opacity=""+(1-Math.abs(d.delta/d.removalDistance)))}function _(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",_);let t=l.current;if(d.canDrag&&d.didMove&&t){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance)return o(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(a=p.get((t={id:e.toastId,containerId:e.containerId,fn:i}).containerId||1))||a.setToggle(t.id,t.fn),(0,r.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",y),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",g)}},[e.pauseOnFocusLoss]);let b={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){d.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",_);let a=l.current;d.canCloseOnClick=!0,d.canDrag=!0,a.style.transition="none","x"===e.draggableDirection?(d.start=t.clientX,d.removalDistance=a.offsetWidth*(e.draggablePercent/100)):(d.start=t.clientY,d.removalDistance=a.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:a,bottom:r,left:n,right:i}=l.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=n&&t.clientX<=i&&t.clientY>=a&&t.clientY<=r?g():y()}};return u&&c&&(b.onMouseEnter=g,e.stacked||(b.onMouseLeave=y)),f&&(b.onClick=e=>{m&&m(e),d.canCloseOnClick&&h()}),{playToast:y,pauseToast:g,isRunning:n,preventExitTransition:s,toastRef:l,eventHandlers:b}}(e),{closeButton:d,children:u,autoClose:c,onClick:h,type:m,hideProgressBar:f,closeToast:y,transition:g,position:v,className:_,style:k,bodyClassName:w,bodyStyle:x,progressClassName:T,progressStyle:E,updateId:C,role:O,progress:Z,rtl:S,toastId:I,deleteToast:P,isIn:j,isLoading:R,closeOnClick:A,theme:L}=e,M=(0,n.Z)("Toastify__toast","Toastify__toast-theme--".concat(L),"Toastify__toast--".concat(m),{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":A}),$=o(_)?_({rtl:S,position:v,type:m,defaultClassName:M}):(0,n.Z)(M,_),D=function(e){let{theme:t,type:a,isLoading:n,icon:i}=e,s=null,l={theme:t,type:a};return!1===i||(o(i)?s=i({...l,isLoading:n}):(0,r.isValidElement)(i)?s=(0,r.cloneElement)(i,l):n?s=N.spinner():a in N&&(s=N[a](l))),s}(e),z=!!Z||!c,U={closeToast:y,type:m,theme:L},B=null;return!1===d||(B=o(d)?d(U):(0,r.isValidElement)(d)?(0,r.cloneElement)(d,U):function(e){let{closeToast:t,theme:a,ariaLabel:n="close"}=e;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(a),type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":n},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(U)),r.createElement(g,{isIn:j,done:P,position:v,preventExitTransition:a,nodeRef:i,playToast:l},r.createElement("div",{id:I,onClick:h,"data-in":j,className:$,...s,style:k,ref:i},r.createElement("div",{...j&&{role:O},className:o(w)?w({type:m}):(0,n.Z)("Toastify__toast-body",w),style:x},null!=D&&r.createElement("div",{className:(0,n.Z)("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},D),r.createElement("div",null,u)),B,r.createElement(b,{...C&&!z?{key:"pb-".concat(C)}:{},rtl:S,theme:L,delay:c,isRunning:t,isIn:j,closeToast:y,hide:f,type:m,style:E,className:T,controlledProgress:z,progress:Z||0})))},I=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},P=u(I("bounce",!0)),j=(u(I("slide",!0)),u(I("zoom")),u(I("flip")),{position:"top-right",transition:P,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function R(e){let t={...j,...e},a=e.stacked,[u,m]=(0,r.useState)(!0),y=(0,r.useRef)(null),{getToastToRender:_,isToastActive:b,count:k}=function(e){let{subscribe:t,getSnapshot:a,setProps:n}=(0,r.useRef)(function(e){let t=e.containerId||1;return{subscribe(a){let n=function(e,t,a){let n=1,u=0,p=[],h=[],m=[],f=t,y=new Map,g=new Set,v=()=>{m=Array.from(y.values()),g.forEach(e=>e())},_=e=>{h=null==e?[]:h.filter(t=>t!==e),v()},b=e=>{let{toastId:t,onOpen:n,updateId:i,children:s}=e.props,l=null==i;e.staleId&&y.delete(e.staleId),y.set(t,e),h=[...h,e.props.toastId].filter(t=>t!==e.staleId),v(),a(c(e,l?"added":"updated")),l&&o(n)&&n((0,r.isValidElement)(s)&&s.props)};return{id:e,props:f,observe:e=>(g.add(e),()=>g.delete(e)),toggle:(e,t)=>{y.forEach(a=>{null!=t&&t!==a.props.toastId||o(a.toggle)&&a.toggle(e)})},removeToast:_,toasts:y,clearQueue:()=>{u-=p.length,p=[]},buildToast:(t,h)=>{var m,g;if((t=>{let{containerId:a,toastId:r,updateId:n}=t,i=y.has(r)&&null==n;return(a?a!==e:1!==e)||i})(h))return;let{toastId:k,updateId:w,data:x,staleId:T,delay:E}=h,C=()=>{_(k)},O=null==w;O&&u++;let Z={...f,style:f.toastStyle,key:n++,...Object.fromEntries(Object.entries(h).filter(e=>{let[t,a]=e;return null!=a})),toastId:k,updateId:w,data:x,closeToast:C,isIn:!1,className:l(h.className||f.toastClassName),bodyClassName:l(h.bodyClassName||f.bodyClassName),progressClassName:l(h.progressClassName||f.progressClassName),autoClose:!h.isLoading&&(m=h.autoClose,g=f.autoClose,!1===m||i(m)&&m>0?m:g),deleteToast(){let e=y.get(k),{onClose:t,children:n}=e.props;o(t)&&t((0,r.isValidElement)(n)&&n.props),a(c(e,"removed")),y.delete(k),--u<0&&(u=0),p.length>0?b(p.shift()):v()}};Z.closeButton=f.closeButton,!1===h.closeButton||d(h.closeButton)?Z.closeButton=h.closeButton:!0===h.closeButton&&(Z.closeButton=!d(f.closeButton)||f.closeButton);let N=t;(0,r.isValidElement)(t)&&!s(t.type)?N=(0,r.cloneElement)(t,{closeToast:C,toastProps:Z,data:x}):o(t)&&(N=t({closeToast:C,toastProps:Z,data:x}));let S={content:N,props:Z,staleId:T};f.limit&&f.limit>0&&u>f.limit&&O?p.push(S):i(E)?setTimeout(()=>{b(S)},E):b(S)},setProps(e){f=e},setToggle:(e,t)=>{y.get(e).toggle=t},isToastActive:e=>h.some(t=>t===e),getSnapshot:()=>f.newestOnTop?m.reverse():m}}(t,e,f);p.set(t,n);let u=n.observe(a);return h.forEach(e=>v(e.content,e.options)),h=[],()=>{u(),p.delete(t)}},setProps(e){var a;null==(a=p.get(t))||a.setProps(e)},getSnapshot(){var e;return null==(e=p.get(t))?void 0:e.getSnapshot()}}}(e)).current;n(e);let u=(0,r.useSyncExternalStore)(t,a,a);return{getToastToRender:function(e){if(!u)return[];let t=new Map;return u.forEach(e=>{let{position:a}=e.props;t.has(a)||t.set(a,[]),t.get(a).push(e)}),Array.from(t,t=>e(t[0],t[1]))},isToastActive:g,count:null==u?void 0:u.length}}(t),{className:w,style:x,rtl:T,containerId:E}=t;function Z(){a&&(m(!0),C.play())}return O(()=>{if(a){var e;let a=y.current.querySelectorAll('[data-in="true"]'),r=null==(e=t.position)?void 0:e.includes("top"),n=0,i=0;Array.from(a).reverse().forEach((e,t)=>{e.classList.add("Toastify__toast--stacked"),t>0&&(e.dataset.collapsed="".concat(u)),e.dataset.pos||(e.dataset.pos=r?"top":"bot");let a=n*(u?.2:1)+(u?0:12*t);e.style.setProperty("--y","".concat(r?a:-1*a,"px")),e.style.setProperty("--g","".concat(12)),e.style.setProperty("--s",""+(1-(u?i:0))),n+=e.offsetHeight,i+=.025})}},[u,k,a]),r.createElement("div",{ref:y,className:"Toastify",id:E,onMouseEnter:()=>{a&&(m(!1),C.pause())},onMouseLeave:Z},_((e,t)=>{let i=t.length?{...x}:{...x,pointerEvents:"none"};return r.createElement("div",{className:function(e){let t=(0,n.Z)("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":T});return o(w)?w({position:e,rtl:T,defaultClassName:t}):(0,n.Z)(t,l(w))}(e),style:i,key:"container-".concat(e)},t.map(e=>{let{content:t,props:n}=e;return r.createElement(S,{...n,stacked:a,collapseAll:Z,isIn:b(n.toastId,n.containerId),style:n.style,key:"toast-".concat(n.key)},t)}))}))}}}]);
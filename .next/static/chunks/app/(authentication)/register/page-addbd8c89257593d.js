(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4030],{88190:function(e,r,t){Promise.resolve().then(t.bind(t,96762))},96762:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v},description:function(){return j}});var s=t(57437),n=t(2265),i=t(66648);t(87138);var a=t(88726),l=t(92404),o=t(10464),d=t(56360),c=t(66431),u=t(32309),f=t(77700);let m=n.forwardRef((e,r)=>{let{className:t,containerClassName:n,...i}=e;return(0,s.jsx)(c.uZ,{ref:r,containerClassName:(0,f.cn)("flex items-center gap-2 has-[:disabled]:opacity-50",n),className:(0,f.cn)("disabled:cursor-not-allowed",t),...i})});m.displayName="InputOTP";let x=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:(0,f.cn)("flex items-center",t),...n})});x.displayName="InputOTPGroup";let g=n.forwardRef((e,r)=>{let{index:t,className:i,...a}=e,{char:l,hasFakeCaret:o,isActive:d}=n.useContext(c.VM).slots[t];return(0,s.jsxs)("div",{ref:r,className:(0,f.cn)("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",d&&"z-10 ring-2 ring-ring ring-offset-background",i),...a,children:[l,o&&(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});g.displayName="InputOTPSlot",n.forwardRef((e,r)=>{let{...t}=e;return(0,s.jsx)("div",{ref:r,role:"separator",...t,children:(0,s.jsx)(u.Z,{})})}).displayName="InputOTPSeparator";var p=t(6577),h=t(30998);let j="A registration page with two columns. The first column has the registration form with email and password. The second column has a cover image.";function v(){let{data:e,status:r}=(0,h.useSession)(),[t,c]=(0,n.useState)("otp-registration"),[u,f]=(0,n.useState)(""),[j,v]=(0,n.useState)(""),[b,y]=(0,n.useState)(""),[w,N]=(0,n.useState)(""),[k,P]=(0,n.useState)(!1),[C,O]=(0,n.useState)(!1),[S,T]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e;return S>0?e=setInterval(()=>{T(e=>e-1)},1e3):O(!0),()=>clearInterval(e)},[S]);let I=()=>{T(60),O(!1)};if(e)return(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("h1",{children:"You are registered and verified already"})});let R=()=>{(0,a.Am)("User Already Exists!")},_=async()=>{let e=await p.Z.post("/api/registration",{email:u,password:j});console.log(e),!1===e.data.isVerified?(c("otp-registration"),I()):R()};async function z(){(0,a.Am)("Otp generated"),await p.Z.post("/api/user/register/generateotp",{email:u}),P(!0),I()}async function E(){!0===(await p.Z.post("/api/user/register/verifyotp",{otp:w,email:u})).data.success?alert("Successfully registered"):alert("Failed")}return(0,s.jsxs)("div",{className:"w-full lg:grid lg:min-h-[600px] lg:grid-cols-2 xl:min-h-[800px]",children:[(0,s.jsx)(a.x7,{}),(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",children:["create-password"===t&&(0,s.jsxs)("div",{className:"mx-auto grid w-[350px] gap-6",children:[(0,s.jsxs)("div",{className:"grid gap-2 text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Create Account"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Enter your details below to create your account"})]}),(0,s.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),j!==b){alert("Passwords do not match");return}_()},children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(o._,{htmlFor:"email",children:"Email"}),(0,s.jsx)(l.I,{id:"email",type:"email",placeholder:"m@example.com",required:!0,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(o._,{htmlFor:"password",children:"Password"}),(0,s.jsx)(l.I,{id:"password",type:"password",required:!0,onChange:e=>v(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(o._,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,s.jsx)(l.I,{id:"confirmPassword",type:"password",required:!0,onChange:e=>y(e.target.value)})]}),(0,s.jsx)(d.z,{type:"submit",className:"w-full",children:"Register"})]})})]}),"otp-registration"===t&&(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("div",{className:"mx-auto grid w-[350px] gap-6",children:[(0,s.jsxs)("div",{className:"grid gap-2 text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Verify OTP"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Enter the OTP sent to your email"})]}),(0,s.jsxs)("div",{className:"flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"flex items-center justify-center ",children:(0,s.jsx)(m,{maxLength:6,onChange:N,children:(0,s.jsx)("div",{className:"grid gap-4",children:(0,s.jsxs)(x,{children:[(0,s.jsx)(g,{index:0}),(0,s.jsx)(g,{index:1}),(0,s.jsx)(g,{index:2}),(0,s.jsx)(g,{index:3}),(0,s.jsx)(g,{index:4}),(0,s.jsx)(g,{index:5})]})})})}),(0,s.jsxs)("div",{className:"flex-col items-center justify-center",children:[!k&&(0,s.jsx)(d.z,{onClick:z,className:"w-full cursor-pointer mt-4 ",children:"Generate OTP"}),k&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.z,{onClick:()=>E(),className:"w-full cursor-pointer mt-4",children:"Verify OTP"}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("p",{children:C?"You can resend OTP now":"Resend OTP in ".concat(S,"s")}),C&&(0,s.jsx)(d.z,{onClick:z,className:"w-full cursor-pointer mt-2",children:"Resend OTP"})]})]})]})]})]})})]}),(0,s.jsx)("div",{className:"hidden bg-muted lg:block",children:(0,s.jsx)(i.default,{src:"https://i.pinimg.com/564x/50/ed/f3/50edf310a3e746ec7b432818d60848d1.jpg",alt:"Image",width:"1920",height:"1080",className:"h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"})})]})}},6577:function(e,r,t){"use strict";var s=t(38472),n=t(30998);let i=s.Z.create({baseURL:"http://localhost:5000",headers:{"Content-Type":"application/json"}});i.interceptors.request.use(async e=>{let r=await (0,n.getSession)();return console.log("hi",r),r&&r.token&&(console.log(r),e.headers.Authorization="Bearer ".concat(r.token)),e},e=>Promise.reject(e)),r.Z=i},56360:function(e,r,t){"use strict";t.d(r,{d:function(){return o},z:function(){return d}});var s=t(57437),n=t(2265),i=t(71538),a=t(12218),l=t(77700);let o=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,r)=>{let{className:t,variant:n,size:a,asChild:d=!1,...c}=e,u=d?i.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:n,size:a,className:t})),ref:r,...c})});d.displayName="Button"},92404:function(e,r,t){"use strict";t.d(r,{I:function(){return a}});var s=t(57437),n=t(2265),i=t(77700);let a=n.forwardRef((e,r)=>{let{className:t,type:n,...a}=e;return(0,s.jsx)("input",{type:n,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a})});a.displayName="Input"},10464:function(e,r,t){"use strict";t.d(r,{_:function(){return d}});var s=t(57437),n=t(2265),i=t(38364),a=t(12218),l=t(77700);let o=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)(i.f,{ref:r,className:(0,l.cn)(o(),t),...n})});d.displayName=i.f.displayName},77700:function(e,r,t){"use strict";t.d(r,{cn:function(){return i}});var s=t(44839),n=t(96164);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,s.W)(r))}}},function(e){e.O(0,[998,6648,8472,7138,4868,8726,582,2971,7023,1744],function(){return e(e.s=88190)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1846],{99311:function(e,s,l){Promise.resolve().then(l.bind(l,51830))},51830:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return x}});var n=l(57437),t=l(47251),i=l(6577),o=l(65090),a=l(50144),c=l(66648),r=l(2265);function d(e){let{userSelected:s,list:l}=e;return console.log(l),console.log(s),(0,n.jsx)("section",{className:"lg:hidden w-full h-20 mt-4  overflow-x-auto items-center ",children:(0,n.jsx)("div",{className:"flex gap-2 mt-2",children:l.map((e,l)=>(0,n.jsx)("div",{onClick:()=>s(e),className:"w-[60px] h-[60px] rounded-full flex-shrink-0 overflow-hidden",children:(0,n.jsx)(c.default,{className:"object-cover w-full h-full",src:e.profilePicture,width:60,height:60,alt:"failed"})},l))})})}var u=l(32205),f=l(30998),h=l(7583),m=l.n(h);function x(){let{data:e}=(0,f.useSession)(),[s,l]=(0,r.useState)([]),[c,h]=(0,r.useState)(""),[x,g]=(0,r.useState)(!1),[p,v]=(0,r.useState)(!1),j=(0,r.useCallback)(async()=>{if(!(null==e?void 0:e.id)){console.error("Session ID is not available");return}try{let s=await i.Z.post("/api/user/fetchChatList",{userId:e.id});s&&(console.log("response received",s.data.followingUsers),l(s.data.followingUsers))}catch(e){console.error("Error fetching chat list:",e)}},[null==e?void 0:e.id]);function w(e){h(e)}(0,r.useEffect)(()=>{j()},[e,j]);let b=(0,t.Z)(e=>e.isVedioCallActive);return(0,n.jsxs)("main",{className:"grid grid-cols-1 md:grid-cols-3 md:max-w-6xl mx-auto gap-4",children:[(0,n.jsx)(m(),{isOpen:p,onRequestClose:function(){v(!1)},contentLabel:"Incoming Call Modal",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"300px",padding:"20px",borderRadius:"10px"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)"}},children:(0,n.jsx)("div",{children:"Incoming call modal content"})}),(0,n.jsx)(d,{userSelected:w,list:s}),(0,n.jsx)("section",{className:"md:col-span-2",children:b?(0,n.jsx)(u.Z,{user:c,setIncomingCallFunction:v}):(0,n.jsx)(o.Z,{recipient:c})}),(0,n.jsx)("section",{className:"hidden md:inline-grid md:col-span-1",children:(0,n.jsx)("div",{className:"fixed w-[380px]",children:(0,n.jsx)(a.Z,{userSelected:w,list:s})})})]})}}},function(e){e.O(0,[7259,8422,8943,998,6648,8472,7138,7671,556,1414,7247,3360,2971,7023,1744],function(){return e(e.s=99311)}),_N_E=e.O()}]);
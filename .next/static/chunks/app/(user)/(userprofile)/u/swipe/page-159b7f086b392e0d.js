(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4884],{6815:function(e,s,r){Promise.resolve().then(r.bind(r,96968))},96968:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return D}});var t=r(57437),a=r(64858),l=r(2265),n=r(65236),i=r(73314),d=r(6577),c=r(30998),o=r(56360),u=r(10464),f=r(80492),m=r(7583),x=r.n(m),h=r(99497),g=r(28165),p=r(77700);let v=l.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(h.fC,{className:(0,p.cn)("grid gap-2",r),...a,ref:s})});v.displayName=h.fC.displayName;let j=l.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(h.ck,{ref:s,className:(0,p.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...a,children:(0,t.jsx)(h.z$,{className:"flex items-center justify-center",children:(0,t.jsx)(g.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});j.displayName=h.ck.displayName;var b=r(66648);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,r(78030).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var y=r(10273);function w(e){let{className:s,...r}=e;return(0,t.jsx)("div",{className:(0,p.cn)("animate-pulse rounded-md bg-muted",s),...r})}function k(){let{edgestore:e}=(0,i.P)(),{data:s,status:r}=(0,c.useSession)(),[a,n]=(0,l.useState)(!1),u=(0,l.useRef)(null),[m,h]=(0,l.useState)(!0),[g,p]=(0,l.useState)(!1),[v,j]=(0,l.useState)([]),[k,C]=(0,l.useState)([]),[S,R]=(0,l.useState)([]),E=(0,l.useCallback)(async()=>{if(null==s?void 0:s.id)try{let e=await d.Z.post("/api/user/dating-tab3",{userId:s.id});e&&C(e.data.images)}catch(e){console.error("Error fetching profile images:",e)}},[null==s?void 0:s.id]);async function P(e){h(e),n(!e)}function M(){p(!1),j([]),C([])}async function I(e){e&&await d.Z.post("/api/user/dating-tab2",{url:S,userId:null==s?void 0:s.id})&&(j([]),C([]),p(!1))}async function Z(){if(console.log(v),v.length>0){let s=await Promise.all(v.map(async s=>(await e.publicFiles.upload({file:s,onProgressChange:e=>{console.log(e)}})).url));p(!1),R(s)}}return(0,l.useEffect)(()=>{E()},[E]),(0,t.jsxs)("di",{className:"",children:[(0,t.jsx)(x(),{isOpen:g,onRequestClose:M,className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",overlayClassName:"fixed inset-0 bg-gray-800 bg-opacity-50",contentLabel:"Upload Images Modal",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md relative",children:[(0,t.jsx)("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",onClick:M,children:"\xd7"}),(0,t.jsx)("input",{ref:u,type:"file",id:"fileInput",accept:"image/*",className:"hidden",onChange:function(e){let s=Array.from(e.target.files),r=s.map(e=>URL.createObjectURL(e));j(s),C(r)},multiple:!0}),(0,t.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"Upload Images"}),(0,t.jsx)("div",{onClick:function(){u.current&&u.current.click()},className:"flex items-center justify-center cursor-pointer m-2",children:(0,t.jsx)(N,{className:"h-6 w-6 text-muted-foreground"})}),(0,t.jsx)("div",{className:"flex items-center justify-center",children:"Click here to upload an image"}),(0,t.jsx)(o.z,{onClick:Z,variant:"",children:"Add Image"})]})}),(0,t.jsx)("div",{className:"p-2 flex justify-center items-center ",children:(0,t.jsxs)(y.Zb,{className:"overflow-hidden sm:w-full lg:w-1/2 ",children:[(0,t.jsx)("div",{className:"border-b p-2 w-full h-full ",children:(0,t.jsx)(f.r,{onClick:()=>I(!m),checked:m,onCheckedChange:()=>P(!m)})}),(0,t.jsx)(y.Ol,{children:(0,t.jsxs)("div",{className:"flex justify-between ",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(y.ll,{children:"Profile Images"}),(0,t.jsx)(y.SZ,{children:"Upload your profile images."})]}),(0,t.jsx)("div",{className:"flex cursor-pointer hover:text-gray-600 text-gray-400 items-center justify-center ".concat(a?"block":"hidden"),children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:(0,t.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})})]})}),(0,t.jsx)(y.aY,{children:(0,t.jsxs)("div",{className:"grid gap-2",children:[k?(0,t.jsx)(b.default,{alt:"Profile image",className:"aspect-square rounded-md object-cover",height:"300",src:k[0],width:"300",loading:"lazy"}):(0,t.jsx)(w,{className:"h-[300px] w-[300px] rounded-xl"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[k&&k.length>1?k.slice(1,4).map((e,s)=>(0,t.jsx)(b.default,{alt:"Profile thumbnail ".concat(s+1),className:"aspect-square rounded-md object-cover",height:"84",src:e,width:"84",loading:"lazy"},s)):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w,{className:"h-[84px] w-[84px] rounded-xl"}),(0,t.jsx)(w,{className:"h-[84px] w-[84px] rounded-xl"})]}),(0,t.jsxs)("button",{disabled:!a,onClick:function(){j(null),C(null),p(!0)},className:"flex aspect-square w-full items-center justify-center rounded-md border border-dashed",children:[(0,t.jsx)(N,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"sr-only",children:"Add Image"})]})]})]})})]})})]})}var C=r(67553);let S=l.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsxs)(C.fC,{ref:s,className:(0,p.cn)("relative flex w-full touch-none select-none items-center",r),...a,children:[(0,t.jsx)(C.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,t.jsx)(C.e6,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(C.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});function R(){let{data:e}=(0,c.useSession)(),[s,r]=(0,l.useState)(!0),[a,n]=(0,l.useState)(!0),[i,o]=(0,l.useState)(20),[m,x]=(0,l.useState)(!0),[h,g]=(0,l.useState)("male"),[p,b]=(0,l.useState)(!0),[N,y]=(0,l.useState)(null);async function w(s){if(r(s),n(e=>!e),s)try{let s={profileVisibility:m,maximumAge:i,genderPreference:h,userId:null==e?void 0:e.id},r=await d.Z.post("/api/user/dating-tab4",s);console.log("Settings saved:",r.data)}catch(e){console.error("Error saving settings:",e),y("Failed to save settings.")}}return((0,l.useEffect)(()=>{let s=async()=>{try{if(!e)return;let s=await d.Z.post("/api/user/settings",{userId:null==e?void 0:e.id});console.log(s),s.data&&(o(s.data.data.maximumAge||18),x(s.data.data.profileVisibility||!1),g(s.data.data.gender||"not specified"))}catch(e){console.error("Error fetching settings:",e),y("Failed to load settings.")}finally{b(!1)}};(null==e?void 0:e.id)&&s()},[e]),p)?(0,t.jsx)("div",{children:"Loading..."}):N?(0,t.jsx)("div",{children:N}):(0,t.jsxs)("div",{className:"w-[400px] h-screen border rounded-md flex flex-col",children:[(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)(f.r,{onClick:()=>w(!s),checked:s})}),(0,t.jsx)("div",{className:"border-b"}),(0,t.jsx)("div",{className:"border-b"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"p-4",children:["Maximum Age: ",i]}),(0,t.jsx)("div",{className:"ml-2 mr-2",children:(0,t.jsx)(S,{disabled:a,onValueChange:e=>{o(e[0])},defaultValue:[i],min:18,max:40,step:1})})]}),(0,t.jsx)("div",{className:"border-b"}),(0,t.jsxs)("div",{className:"flex flex-col mt-4 gap-2",children:[(0,t.jsx)("div",{className:"ml-2",children:"Gender Preference"}),(0,t.jsx)("div",{className:"text-4xl ml-4",children:(0,t.jsxs)(v,{disabled:a,value:h,onValueChange:e=>{g(e)},children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(j,{value:"male",id:"male"}),(0,t.jsx)(u._,{htmlFor:"male",children:"Male"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(j,{value:"female",id:"female"}),(0,t.jsx)(u._,{htmlFor:"female",children:"Female"})]})]})})]}),(0,t.jsx)("div",{className:"border-b mt-4"}),(0,t.jsxs)("div",{className:"flex justify-between p-4",children:[(0,t.jsx)("div",{children:"Profile Visibility"}),(0,t.jsx)("div",{children:(0,t.jsx)(f.r,{disabled:a,checked:m,onClick:()=>x(e=>!e)})})]}),(0,t.jsx)("div",{className:"border-b mt-4"})]})}function E(){let{edgestore:e}=(0,i.P)(),{data:s}=(0,c.useSession)(),[r,a]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!1),[g,p]=(0,l.useState)([]),[b,N]=(0,l.useState)([]),[y,w]=(0,l.useState)({}),[C,S]=(0,l.useState)(!0),[E,P]=(0,l.useState)(""),[M,I]=(0,l.useState)({name:"",age:"",bio:"",gender:""}),Z=(0,l.useRef)(null),U=e=>{let{name:s,value:r}=e.target;I(e=>({...e,[s]:r}))},z=async()=>{if(g.length>0){let r=await Promise.all(g.map(async s=>(await e.publicFiles.upload({file:s,onProgressChange:e=>{console.log(e)}})).url));await d.Z.post("/api/user/upload-dating-images",{formData:M,url:r,userId:null==s?void 0:s.id})&&(p([]),N([]),h(!1))}};(0,l.useEffect)(()=>{(async()=>{if(null==s?void 0:s.id)try{let e=await d.Z.post("/api/user/dating-tab1-getdetails",{userId:s.id});console.log(e.data.formData),I(e.data.formData)}catch(e){console.error("Error fetching profile:",e),P("Failed to load profile data.")}})()},[null==s?void 0:s.id]);let L=()=>{h(!1)},V=async e=>{a(e=>!e),S(e=>!e),e&&(console.log("profile updated",M),await d.Z.post("/api/user/dating-tab1",{formData:M,userId:null==s?void 0:s.id})&&console.log("success"))};return(0,t.jsxs)("div",{className:"sm:ml-8 lg:ml-0 h-screen overflow-hidden",children:[(0,t.jsx)(x(),{isOpen:m,onRequestClose:L,className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",overlayClassName:"fixed inset-0 bg-gray-800 bg-opacity-50",contentLabel:"Upload Images Modal",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md relative",children:[(0,t.jsx)("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",onClick:L,children:"\xd7"}),(0,t.jsx)("input",{ref:Z,type:"file",id:"fileInput",accept:"image/*",className:"hidden",onChange:e=>{let s=Array.from(e.target.files);p(e=>[...e,...s]);let r=s.map(e=>URL.createObjectURL(e));N(e=>[...e,...r])},multiple:!0}),(0,t.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"Upload Images"}),(0,t.jsx)("div",{onClick:()=>{Z.current&&Z.current.click()},className:"flex items-center justify-center cursor-pointer m-2",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})]})}),(0,t.jsx)("div",{className:"flex items-center justify-center",children:"Click here to upload an image"}),(0,t.jsx)(o.z,{onClick:z,variant:"",children:"Upload"})]})}),(0,t.jsx)("div",{className:"flex justify-center items-center ",children:(0,t.jsxs)(n.mQ,{defaultValue:"profile-details",className:"w-[600px]",children:[(0,t.jsxs)(n.dr,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(n.SP,{value:"profile-details",children:"Profile Details"}),(0,t.jsx)(n.SP,{value:"profile-image",children:"Profile Images"}),(0,t.jsx)(n.SP,{value:"Filter",children:"Settings"})]}),(0,t.jsx)(n.nU,{value:"profile-details",children:(0,t.jsx)("div",{className:"flex  items-center justify-center p-4  w-full ",children:(0,t.jsx)("div",{children:(0,t.jsx)("form",{className:"",children:(0,t.jsx)("div",{className:"border rounded",children:(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)(f.r,{checked:C,onCheckedChange:()=>V(!C)})}),(0,t.jsx)("div",{className:"border-b"}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("label",{className:"block mb-2 text-gray-700",children:["Name:",(0,t.jsx)("input",{onChange:U,value:M.name,type:"text",name:"name",placeholder:"Enter your name",disabled:!r,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("label",{className:"block mb-2 text-gray-700",children:["Age:",(0,t.jsx)("input",{onChange:U,value:M.age,type:"number",name:"age",placeholder:"Enter your age",disabled:!r,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("label",{className:"block mb-2 text-gray-700",children:["Bio:",(0,t.jsx)("textarea",{onChange:U,name:"bio",value:M.bio,placeholder:"Write a short bio",disabled:!r,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]})}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)(u._,{children:"Gender:"}),(0,t.jsxs)(v,{value:M.gender,onValueChange:e=>{I(s=>({...s,gender:e})),console.log(e)},className:"flex flex-col mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(j,{value:"male",id:"male",className:"mr-2"}),(0,t.jsx)(u._,{htmlFor:"male",className:"cursor-pointer",children:"Male"})]}),(0,t.jsxs)("div",{className:"flex items-center mt-2",children:[(0,t.jsx)(j,{value:"female",id:"female",className:"mr-2"}),(0,t.jsx)(u._,{htmlFor:"female",className:"cursor-pointer",children:"Female"})]})]})]})]})]})})})})})}),(0,t.jsx)(n.nU,{value:"profile-image",children:(0,t.jsx)(k,{openModal:()=>h(!0),fileUrls:b})}),(0,t.jsx)(n.nU,{value:"Filter",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(R,{})})})]})})]})}S.displayName=C.fC.displayName;var P=r(52225),M=r(95640),I=r(87138);function Z(){let{data:e}=(0,c.useSession)(),[s,r]=(0,l.useState)([]),a=(0,l.useCallback)(async()=>{if(null==e?void 0:e.id)try{let s=await d.Z.post("/api/user/fetch-matches",{userId:e.id});s&&(console.log(s),r(s.data.matches))}catch(e){console.error("Error fetching matches:",e)}},[null==e?void 0:e.id]);return(0,l.useEffect)(()=>{a()},[a]),(0,t.jsx)("div",{children:(0,t.jsxs)(P.iA,{children:[(0,t.jsx)(P.Rn,{children:"Your Recent Matches Appear Here."}),(0,t.jsx)(P.xD,{children:(0,t.jsx)(P.SC,{children:(0,t.jsx)(P.ss,{className:"text-center",children:"Matches"})})}),(0,t.jsx)(P.RM,{children:s&&s.map((e,s)=>(0,t.jsx)(P.SC,{children:(0,t.jsx)(P.pj,{className:"font-medium text-center",children:(0,t.jsxs)("div",{className:"flex justify-around ",children:[(0,t.jsxs)(M.qE,{children:[(0,t.jsx)(M.F$,{src:e.userId.profilePicture}),(0,t.jsx)(M.Q5,{children:"CN"})]}),(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsxs)("p",{children:["You Matched With @",e.userId.username]})}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)(I.default,{href:"/u/".concat(e.userId.username),children:(0,t.jsx)(o.z,{variant:"outline",children:"Visit Profile"})})})]})})},s))})]})})}var U=r(24630),z=r(32816);let L=(0,l.createContext)(void 0),V=e=>{let{children:s,className:r,containerClassName:a}=e,n=(0,l.useRef)(null),[i,d]=(0,l.useState)(!1);return(0,t.jsx)(L.Provider,{value:[i,d],children:(0,t.jsx)("div",{className:(0,p.cn)("py-20 flex items-center justify-center",a),style:{perspective:"1000px"},children:(0,t.jsx)("div",{ref:n,onMouseEnter:e=>{if(d(!0),!n.current)return},onMouseMove:e=>{if(!n.current)return;let{left:s,top:r,width:t,height:a}=n.current.getBoundingClientRect(),l=(e.clientX-s-t/2)/25,i=(e.clientY-r-a/2)/25;n.current.style.transform="rotateY(".concat(l,"deg) rotateX(").concat(i,"deg)")},onMouseLeave:e=>{n.current&&(d(!1),n.current.style.transform="rotateY(0deg) rotateX(0deg)")},className:(0,p.cn)("flex items-center justify-center relative transition-all duration-200 ease-linear",r),style:{transformStyle:"preserve-3d"},children:s})})})},F=e=>{let{children:s,className:r}=e;return(0,t.jsx)("div",{className:(0,p.cn)("h-96 w-96 [transform-style:preserve-3d]  [&>*]:[transform-style:preserve-3d]",r),children:s})},A=e=>{let{as:s="div",children:r,className:a,translateX:n=0,translateY:i=0,translateZ:d=0,rotateX:c=0,rotateY:o=0,rotateZ:u=0,...f}=e,m=(0,l.useRef)(null),[x]=Y(),h=(0,l.useCallback)(()=>{m.current&&(x?m.current.style.transform="translateX(".concat(n,"px) translateY(").concat(i,"px) translateZ(").concat(d,"px) rotateX(").concat(c,"deg) rotateY(").concat(o,"deg) rotateZ(").concat(u,"deg)"):m.current.style.transform="translateX(0px) translateY(0px) translateZ(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)")},[x,n,i,d,c,o,u]);return(0,l.useEffect)(()=>{h()},[h]),(0,t.jsx)(s,{ref:m,className:(0,p.cn)("w-fit transition duration-200 ease-linear",a),...f,children:r})},Y=()=>{let e=(0,l.useContext)(L);if(void 0===e)throw Error("useMouseEnter must be used within a MouseEnterProvider");return e};var _=r(34203);function T(){return(0,l.useEffect)(()=>{let e=document.getElementById("hearts-container"),s=setInterval(()=>{let s=document.createElement("div");s.className="heart",s.style.left="".concat(100*Math.random(),"%"),e.appendChild(s),setTimeout(()=>{s.remove()},5e3)},500);return()=>clearInterval(s)},[]),null}function q(){let{data:e}=(0,c.useSession)(),s=(0,_.s)(),[r,a]=(0,l.useState)(!1),[n,i]=(0,l.useState)([]),[u,f]=(0,l.useState)(0),[m,x]=(0,l.useState)(null),[h,g]=(0,l.useState)(0),[p,v]=(0,l.useState)(33),[j,N]=(0,l.useState)(null),y=(0,l.useCallback)(async()=>{if(null==e?void 0:e.id)try{let s=await d.Z.post("/api/user/swipe-profiles",{userId:e.id});s.data&&(i(s.data.profiles),f(0))}catch(e){console.error("Error fetching profiles:",e)}},[e]),k=(0,l.useCallback)(r=>{console.log(r),a(!0),s.emit("match_owner",{userId:null==e?void 0:e.id}),s.on("profile-image",e=>{console.log(e),N(e)})},[e,s]),C=()=>{console.log("Profile liked"),x("right"),setTimeout(()=>{x(null),u<n.length-1?f(u+1):console.log("No more profiles")},500)},S=()=>{console.log("Profile disliked"),x("left"),setTimeout(()=>{x(null),u<n.length-1?f(u+1):console.log("No more profiles")},500)};(0,l.useEffect)(()=>{if(e&&y(),s){var r;s.emit("register",null==e?void 0:null===(r=e.user)||void 0===r?void 0:r.email),s.on("match",k)}return()=>{s&&s.off("match",k)}},[e,s,y,k]);let R=n[u]||{};return console.log(j),(0,t.jsx)("div",{className:"",children:r?(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsxs)("div",{className:"w-[700px] h-[600px] overflow-hidden mt-4 animate-fade-in relative",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center mt-4 animate-fade-up flex-col",children:[(0,t.jsx)("h1",{className:"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl bg-gradient-to-r from-pink-500 via-red-500 to-pink-500 text-white rounded p-4 shadow-lg animate-heartbeat",children:"You found a match"}),(0,t.jsxs)("div",{className:"flex p-4 mt-8",children:[(0,t.jsx)("div",{className:"relative group",children:j&&(0,t.jsx)(b.default,{src:j,height:"300",width:"200",className:"w-full object-fit aspect-square rounded-xl border-red-700 border-4 pulse-effect",alt:"thumbnail"})}),(0,t.jsx)("div",{className:"relative group  ml-6",children:(null==R?void 0:R.images[h])&&(0,t.jsx)(b.default,{src:null==R?void 0:R.images[h],height:"200",width:"200",className:"w-full object-cover aspect-square rounded-xl border-red-700 border-4 glow-effect",alt:"thumbnail"})})]}),(0,t.jsxs)("div",{className:"flex mt-4 gap-1",children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)(o.z,{className:"text-red-600 font-semibold hover:text-white hover:bg-red-600 ",variant:"outline",children:"Visit Profile"})}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)(o.z,{onClick:()=>a(!1),variant:"outline",className:"text-red-600 font-semibold hover:text-white hover:bg-red-600",children:"Keep Swiping"})})]})]}),(0,t.jsx)("div",{id:"hearts-container",className:"absolute inset-0 pointer-events-none"}),(0,t.jsx)(T,{})]})}):(0,t.jsx)("div",{children:(null==R?void 0:R.images)?(0,t.jsxs)("div",{children:[(0,t.jsx)(V,{className:"",children:(0,t.jsx)(F,{className:"bg-gray-50 relative group/card dark:hover:shadow-2xl dark:hover:shadow-emerald-500/[0.1] dark:bg-black dark:border-white/[0.2] border-black/[0.1] rounded-xl ".concat(m?"swipe-".concat(m):""),children:(0,t.jsxs)(A,{translateZ:"100",className:"w-full",children:[(0,t.jsx)(z.E,{value:p*(h+1),className:"mb-4"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"flex flex-col mt-2 ml-2 mb-2 z-10",children:[(0,t.jsxs)("h1",{className:"scroll-m-20 text-2xl font-extrabold text-gray-600 lg:text-2xl",children:[R.name||"No Name",","," ",(0,t.jsx)("span",{className:"text-gray-600",children:R.age||"Unknown"})]}),(0,t.jsx)("div",{className:"text-gray-600 font-semibold",children:R.bio||"No description"}),(0,t.jsx)("div",{})]}),(0,t.jsx)("div",{onClick:r=>{r.nativeEvent.offsetX<r.target.clientWidth/2?(S(),console.log("dislike")):(C(),console.log("like",n[u]),s.emit("swipe",{profile:n[u],userId:null==e?void 0:e.id}),console.log(null==e?void 0:e.id))},children:(0,t.jsx)(b.default,{src:R.images[h],height:"300",width:"300",className:"w-full object-cover rounded-xl group-hover/card:shadow-xl",alt:"thumbnail"})})]})]})})}),(0,t.jsxs)("div",{className:"flex justify-center items-center gap-10 mt-4 cursor-pointer",children:[(0,t.jsx)("div",{className:"flex justify-center items-center w-12 h-12 rounded-full transition-transform transform hover:scale-150",children:(0,t.jsx)(o.z,{onClick:()=>g(e=>Math.max(e-1,0)),children:(0,t.jsx)(U.YNj,{className:"text-2xl "})})}),(0,t.jsx)("div",{className:"flex justify-center items-center w-12 h-12 rounded-full transition-transform transform hover:scale-150",children:(0,t.jsx)(o.z,{onClick:()=>g(e=>Math.min(e+1,(R.images||[]).length-1)),children:(0,t.jsx)(U.p6n,{className:"text-2xl "})})})]})]}):(0,t.jsx)("div",{className:"   flex items-center justify-center",children:(0,t.jsx)("div",{children:(0,t.jsx)(w,{className:"w-[500px] h-[600px]  ",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("h2",{className:"scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight first:mt-0"})})})})})})})}function D(){return(0,t.jsxs)("main",{className:"grid grid-cols-1 md:grid-cols-3 md:max-w-6xl mx-auto ",children:[(0,t.jsx)("section",{className:"md:col-span-2  border h-screen mt-6 overflow-hidden ",children:(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)(n.mQ,{defaultValue:"Swipe",children:[(0,t.jsx)("div",{className:"flex ml-2 font-extrabold",children:(0,t.jsx)("div",{className:"flex ",children:(0,t.jsxs)(n.dr,{children:[(0,t.jsx)(n.SP,{value:"Swipe",children:"Swipe"}),(0,t.jsx)(n.SP,{value:"Matches",children:"Matches"}),(0,t.jsx)(n.SP,{value:"Profile",children:"Profile"})]})})}),(0,t.jsx)(n.nU,{value:"Swipe",children:(0,t.jsx)(q,{})}),(0,t.jsx)(n.nU,{value:"Matches",children:(0,t.jsx)(Z,{})}),(0,t.jsx)(n.nU,{value:"Profile",children:(0,t.jsx)(E,{})})]})})})})}),(0,t.jsx)("section",{className:"hidden md:inline-grid  md:col-span-1",children:(0,t.jsx)("div",{className:"fixed w-[380px]",children:(0,t.jsx)(a.default,{})})})]})}},95640:function(e,s,r){"use strict";r.d(s,{F$:function(){return d},Q5:function(){return c},qE:function(){return i}});var t=r(57437),a=r(2265),l=r(44458),n=r(77700);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.fC,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});i.displayName=l.fC.displayName;let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.Ee,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",r),...a})});d.displayName=l.Ee.displayName;let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.NY,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});c.displayName=l.NY.displayName},56360:function(e,s,r){"use strict";r.d(s,{d:function(){return d},z:function(){return c}});var t=r(57437),a=r(2265),l=r(71538),n=r(12218),i=r(77700);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:r,variant:a,size:n,asChild:c=!1,...o}=e,u=c?l.g7:"button";return(0,t.jsx)(u,{className:(0,i.cn)(d({variant:a,size:n,className:r})),ref:s,...o})});c.displayName="Button"},10273:function(e,s,r){"use strict";r.d(s,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return n},aY:function(){return o},eW:function(){return u},ll:function(){return d}});var t=r(57437),a=r(2265),l=r(77700);let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},10464:function(e,s,r){"use strict";r.d(s,{_:function(){return c}});var t=r(57437),a=r(2265),l=r(38364),n=r(12218),i=r(77700);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.f,{ref:s,className:(0,i.cn)(d(),r),...a})});c.displayName=l.f.displayName},32816:function(e,s,r){"use strict";r.d(s,{E:function(){return i}});var t=r(57437),a=r(2265),l=r(52431),n=r(77700);let i=a.forwardRef((e,s)=>{let{className:r,value:a,...i}=e;return(0,t.jsx)(l.fC,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...i,children:(0,t.jsx)(l.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});i.displayName=l.fC.displayName},80492:function(e,s,r){"use strict";r.d(s,{r:function(){return i}});var t=r(57437),a=r(2265),l=r(9646),n=r(77700);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.fC,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...a,ref:s,children:(0,t.jsx)(l.bU,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});i.displayName=l.fC.displayName},52225:function(e,s,r){"use strict";r.d(s,{RM:function(){return d},Rn:function(){return f},SC:function(){return c},iA:function(){return n},pj:function(){return u},ss:function(){return o},xD:function(){return i}});var t=r(57437),a=r(2265),l=r(77700);let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",r),...a})})});n.displayName="Table";let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",r),...a})});i.displayName="TableHeader";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...a})});d.displayName="TableBody",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});c.displayName="TableRow";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});o.displayName="TableHead";let u=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});u.displayName="TableCell";let f=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...a})});f.displayName="TableCaption"},65236:function(e,s,r){"use strict";r.d(s,{SP:function(){return c},dr:function(){return d},mQ:function(){return i},nU:function(){return o}});var t=r(57437),a=r(2265),l=r(62447),n=r(77700);let i=l.fC,d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.aV,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});d.displayName=l.aV.displayName;let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.xz,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});c.displayName=l.xz.displayName;let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});o.displayName=l.VY.displayName},78030:function(e,s,r){"use strict";r.d(s,{Z:function(){return d}});var t=r(2265);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&r.indexOf(e)===s).join(" ")};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t.forwardRef)((e,s)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:u,...f}=e;return(0,t.createElement)("svg",{ref:s,...n,width:a,height:a,stroke:r,strokeWidth:d?24*Number(i)/Number(a):i,className:l("lucide",c),...f},[...u.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(o)?o:[o]])}),d=(e,s)=>{let r=(0,t.forwardRef)((r,n)=>{let{className:d,...c}=r;return(0,t.createElement)(i,{ref:n,iconNode:s,className:l("lucide-".concat(a(e)),d),...c})});return r.displayName="".concat(e),r}},28165:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(78030).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},38364:function(e,s,r){"use strict";r.d(s,{f:function(){return i}});var t=r(2265),a=r(25171),l=r(57437),n=t.forwardRef((e,s)=>(0,l.jsx)(a.WV.label,{...e,ref:s,onMouseDown:s=>{var r;s.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var i=n}},function(e){e.O(0,[4616,7259,8422,2376,998,6648,8472,7138,4868,7671,556,4143,4784,3118,9858,4858,2971,7023,1744],function(){return e(e.s=6815)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6014],{2625:function(e,n,s){Promise.resolve().then(s.bind(s,82010))},82010:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return m}});var t=s(57437),i=s(47251),o=s(6577),l=s(65090),a=s(50144),r=s(32205),c=s(30998),d=s(2265),u=s(7583),f=s.n(u);function m(){let{data:e}=(0,c.useSession)(),[n,s]=(0,d.useState)([]),[u,m]=(0,d.useState)(""),[h,g]=(0,d.useState)(!1),[p,x]=(0,d.useState)(!1),b=(0,d.useCallback)(async()=>{if(!(null==e?void 0:e.id)){console.error("Session ID is not available");return}try{let n=await o.Z.post("/api/user/fetchChatList",{userId:e.id});n&&(console.log("response received",n.data.followingUsers),s(n.data.followingUsers))}catch(e){console.error("Error fetching chat list:",e)}},[null==e?void 0:e.id]);(0,d.useEffect)(()=>{b()},[b]);let v=(0,i.Z)(e=>e.isVedioCallActive);return(0,t.jsxs)("main",{className:"grid grid-cols-1 md:grid-cols-3 md:max-w-6xl mx-auto gap-4",children:[(0,t.jsx)(f(),{isOpen:p,onRequestClose:function(){x(!1)},contentLabel:"Incoming Call Modal",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"300px",padding:"20px",borderRadius:"10px"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)"}},children:(0,t.jsx)("div",{children:"Incoming call modal content"})}),(0,t.jsx)("section",{className:"md:col-span-2",children:v?(0,t.jsx)(r.Z,{user:u,setIncomingCallFunction:x}):(0,t.jsx)(l.Z,{recipient:u})}),(0,t.jsx)("section",{className:"hidden md:inline-grid md:col-span-1",children:(0,t.jsx)("div",{className:"fixed w-[380px]",children:(0,t.jsx)(a.Z,{userSelected:function(e){m(e)},list:n})})})]})}}},function(e){e.O(0,[7259,8422,8943,998,6648,8472,7138,7671,556,1414,7247,3360,2971,7023,1744],function(){return e(e.s=2625)}),_N_E=e.O()}]);